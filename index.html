<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MORELLO SIMS: NBA + MLB</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Inter:wght@400;600&family=JetBrains+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-matte: #9E9E9E;
            --card-dark: #0a0a0a;
            --card-white: #FFFFFF;
            --accent-nba: #00FF55;
            --accent-mlb: #FFEA00;
            --accent-atlas: #FF6B00;
            --text-on-dark: #FFFFFF;
            --text-on-light: #000000;
            --text-muted-dark: rgba(255, 255, 255, 0.6);
            --text-muted-light: rgba(0, 0, 0, 0.6);
            --border-dark: #080808;
            --border-light: rgba(255, 255, 255, 0.15);

            --font-display: 'Anton', sans-serif;
            --font-header: 'Bebas Neue', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            --font-body: 'Inter', sans-serif;

            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 40px;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background-color: var(--bg-matte);
            color: var(--text-on-dark);
            font-family: var(--font-body);
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            width: 100%;
            min-height: 100vh;

            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }
        .mono { font-family: var(--font-mono); }
        .bebas { font-family: var(--font-header); }
        .anton { font-family: var(--font-display); }
        .uppercase { text-transform: uppercase; }


        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 56px;
            background: var(--bg-matte);
            border-bottom: 1px solid var(--border-dark);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--spacing-md);
        }
        .brand-lockup {
            display: flex;
            align-items: baseline;
            gap: var(--spacing-sm);
        }
        .logo {
            font-size: 20px;
            color: #000;
            transform: skewX(-5deg);
            letter-spacing: 2px;
            line-height: 1;
        }
        .logo-tag {
            font-size: 10px;
            color: #000;
            letter-spacing: 0.5px;
        }
        .status-indicators {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        .status-group {
            display: flex;
            align-items: center;
            gap: 3px;
        }
        .status-emoji {
            font-size: 12px;
            line-height: 1;
        }
        .status-dot {
            width: 11px;
            height: 11px;
            border-radius: 50%;
            animation: pulse 2s infinite;
            border: 1px solid rgba(0,0,0,0.3);
        }
        .status-dot.mlb-sim {
            background: var(--accent-mlb);
            animation-delay: 0s;
        }
        .status-dot.mlb-atlas {
            background: var(--accent-atlas);
            animation-delay: 0.3s;
        }
        .status-dot.nba-sim {
            background: var(--accent-nba);
            animation-delay: 0.6s;
        }
        .status-tooltip {
            position: relative;
            cursor: default;
        }
        .status-tooltip::after {
            content: attr(data-label);
            position: absolute;
            top: 16px;
            right: 0;
            background: #000;
            color: #fff;
            font-family: var(--font-mono);
            font-size: 8px;
            padding: 2px 6px;
            border-radius: 2px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
        }
        .status-tooltip:hover::after {
            opacity: 1;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.4; }
            100% { opacity: 1; }
        }
        .hero-subtitle {
            margin-top: 70px;
            margin-bottom: var(--spacing-md);
            text-align: center;
            font-size: 10px;
            color: #000;
            letter-spacing: 1px;
            opacity: 0.8;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }
        @media (min-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr 1fr 1fr;
            }
        }
        .card-atlas {
            background: #c8cccf;
            color: #1e2124;
            border: 2px solid #333;
            box-shadow: none;
            transition: box-shadow 0.3s ease;
        }
        .card-atlas:hover {
            box-shadow:
                0 0 20px rgba(255, 68, 0, 0.45),
                0 0 50px rgba(255, 68, 0, 0.22),
                0 0 90px rgba(255, 68, 0, 0.1);
        }
        .card-atlas .card-title { color: #1e2124; }
        .card-atlas .card-meta { color: rgba(0,0,0,0.5); }
        .card-atlas .last-updated { color: rgba(0,0,0,0.4); }
        .card-atlas .data-preview { border-color: rgba(0,0,0,0.1); }
        .card-atlas .data-row { border-bottom-color: rgba(0,0,0,0.08); color: #333; }
        .btn-atlas {
            background: #ff4400;
            color: #fff;
            border: none;
        }
        .btn-atlas:hover { background: #cc3600; }
        .desktop-only-label {
            display: none;
            font-family: var(--font-mono);
            font-size: 8px;
            letter-spacing: 1px;
            color: rgba(0,0,0,0.35);
            text-transform: uppercase;
            margin-top: 4px;
        }
        @media (min-width: 768px) {
            .desktop-only-label { display: block; }
        }
        .card {
            position: relative;
            padding: var(--spacing-lg);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 380px;
            transition: transform 0.2s ease;
        }
        .card:hover {
            transform: scale(1.01);
            z-index: 2;
        }
        .card-header {
            margin-bottom: var(--spacing-lg);
        }
        .card-title {
            font-size: 42px;
            line-height: 0.9;
            margin-bottom: var(--spacing-xs);
        }
        .card-meta {
            font-size: 10px;
            letter-spacing: 0.5px;
            line-height: 1.4;
            max-width: 80%;
        }
        .last-updated {
            position: absolute;
            top: var(--spacing-lg);
            right: var(--spacing-lg);
            font-size: 8px;
            letter-spacing: 1px;
        }

        .card-nba {
            background: var(--card-dark);
            border-left: 4px solid var(--accent-nba);
            border-radius: 12px;
            color: var(--text-on-dark);
            box-shadow: none;
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
        }

        .card-nba:hover {
            box-shadow:
                0 0 20px rgba(0, 255, 85, 0.4),
                0 0 50px rgba(0, 255, 85, 0.2),
                0 0 90px rgba(0, 255, 85, 0.1);
            border-left-color: #4dff88;
        }
        .card-nba .card-meta { color: var(--accent-nba); }
        .card-nba .last-updated { color: rgba(255,255,255,0.3); }

        .card-mlb {
            background: var(--card-white);
            border: 2px solid var(--border-dark);
            box-shadow: none;
            transition: box-shadow 0.3s ease;
            color: var(--text-on-light);
            border-radius: 0;

            background-image: radial-gradient(#000 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .card-mlb:hover {
            box-shadow: 8px 8px 0px var(--accent-mlb);
        }
        .card-mlb .card-title {
            transform: skewX(-5deg);
        }
        .card-mlb .card-meta { color: rgba(0,0,0,0.6); background: #fff; display: inline-block; padding-right: 4px; }
        .card-mlb .last-updated { color: rgba(0,0,0,0.4); background: #fff; padding: 2px; }

        .data-preview {
            margin-top: auto;
            margin-bottom: var(--spacing-lg);
            font-size: 12px;
            width: 100%;
        }
        .data-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid;
        }
        .card-nba .data-row { border-color: rgba(255,255,255,0.1); }
        .card-mlb .data-row { border-color: rgba(0,0,0,0.1); background: rgba(255,255,255,0.9); padding: 8px 4px; }
        .team-pair {
            display: flex;
            gap: 8px;
            font-size: 16px;
        }

        .stat-val {
            font-size: 11px;
            letter-spacing: 1px;
        }
        .grade-badge {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: bold;
            border-radius: 4px;
        }
        .grade-a { background: var(--accent-nba); color: black; }
        .grade-b { background: #FFD600; color: black; }
        .grade-c { background: rgba(255,255,255,0.2); color: white; }

        .mlb-badge {
            font-size: 9px;
            padding: 2px 6px;
            border: 1px solid #000;
            text-transform: uppercase;
        }

        .btn-action {
            display: inline-block;
            text-decoration: none;
            padding: 12px 20px;
            font-size: 12px;
            transition: all 0.1s;
            cursor: pointer;
            width: 100%;
            text-align: center;
        }
        .btn-nba {
            background: var(--accent-nba);
            color: #000;
            border-radius: 4px;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.5);
        }
        .btn-nba:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px rgba(0,0,0,0.5);
        }
        .btn-mlb {
            background: var(--accent-mlb);
            color: #000;
            border: 2px solid #000;
            box-shadow: 4px 4px 0px #000;
            font-family: var(--font-display);
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .btn-mlb:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px #000;
        }

        .log-divider {
            position: relative;
            height: 1px;
            background: linear-gradient(90deg, transparent, #000, transparent);
            margin: var(--spacing-xl) 0;
            text-align: center;
            overflow: visible;
        }
        .log-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-matte);
            padding: 0 10px;
            font-size: 9px;
            color: #000;
            letter-spacing: 3px;
            border: 1px solid #000;
        }

        .blog-feed {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
            padding-bottom: 80px;
        }
        .blog-card {
            background: var(--card-dark);
            padding: 0;
            display: block;
            transition: transform 0.2s ease;
            position: relative;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .blog-card > summary {
            padding: var(--spacing-lg);
            cursor: pointer;
            list-style: none;
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-md);
            position: relative;
        }
        .blog-card > summary::-webkit-details-marker { display: none; }
        .blog-card > summary::marker { display: none; content: ''; }
        .blog-card > summary::after {
            content: '[ EXPAND ]';
            position: absolute;
            bottom: var(--spacing-md);
            right: var(--spacing-lg);
            font-family: var(--font-mono);
            font-size: 10px;
            letter-spacing: 1.5px;
            color: rgba(255,255,255,0.5);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 4px 12px;
            transition: all 0.2s ease;
            line-height: 1;
        }
        .blog-card[open] > summary::after {
            content: '[ COLLAPSE ]';
            color: rgba(255,255,255,0.4);
            border-color: rgba(255,255,255,0.1);
        }
        .blog-card > summary:hover::after {
            color: #fff;
            border-color: rgba(255,255,255,0.5);
            background: rgba(255,255,255,0.06);
        }
        .blog-card-body {
            padding: 0 var(--spacing-lg) var(--spacing-lg) var(--spacing-lg);
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-md);
            border-top: 1px solid rgba(255,255,255,0.06);
        }

        .blog-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-nba), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .blog-card.post-mlb::before {
            background: linear-gradient(90deg, var(--accent-mlb), var(--accent-atlas), transparent);
        }
        .blog-card.post-nba::before {
            background: linear-gradient(90deg, var(--accent-nba), transparent);
        }
        .blog-card:hover {
            transform: translateY(-2px);
            border-color: rgba(255,255,255,0.2);
        }
        .blog-card[open] {
            border-color: rgba(255,255,255,0.15);
        }
        .blog-card[open]::before {
            opacity: 1;
        }

        .blog-card:hover::before {
            opacity: 1;
        }
        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .blog-date {
            color: rgba(255,255,255,0.3);
            font-size: 9px;
        }
        .blog-system-dots {
            display: flex;
            gap: 4px;
            align-items: center;
        }
        .blog-system-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .blog-system-dot.dot-mlb-sim { background: var(--accent-mlb); }
        .blog-system-dot.dot-mlb-atlas { background: var(--accent-atlas); }
        .blog-system-dot.dot-nba-sim { background: var(--accent-nba); }
        .blog-title {
            color: #FFF;
            font-size: 24px;
            line-height: 1.1;
            margin-bottom: var(--spacing-sm);
        }
        .blog-preview {
            color: rgba(255,255,255,0.6);
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: var(--spacing-md);
        }
        .blog-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .tag {
            border: 1px solid rgba(255,255,255,0.15);
            color: #FFF;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 9px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: background 0.2s;
        }
        .tag:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: #FFF;
        }

        /* System diagram styles */
        .system-diagram {
            width: 100%;
            margin: var(--spacing-md) 0;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        .system-diagram svg {
            width: 100%;
            height: auto;
            display: block;
        }
        .diagram-label {
            font-size: 9px;
            color: rgba(255,255,255,0.3);
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 6px;
        }

        .blog-section-header {
            font-size: 16px;
            color: #FFF;
            margin: var(--spacing-lg) 0 var(--spacing-sm) 0;
            padding-bottom: 4px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .blog-body-text {
            color: rgba(255,255,255,0.7);
            font-size: 13px;
            line-height: 1.7;
            margin-bottom: var(--spacing-md);
        }
        .blog-body-text strong {
            color: rgba(255,255,255,0.9);
        }
        .blog-body-text code {
            background: rgba(255,255,255,0.08);
            padding: 1px 5px;
            border-radius: 3px;
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--accent-nba);
        }
        .blog-body-text.mlb code {
            color: var(--accent-mlb);
        }

        .pipeline-step {
            display: flex;
            gap: 12px;
            align-items: flex-start;
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(255,255,255,0.03);
            border-left: 2px solid rgba(255,255,255,0.1);
        }
        .pipeline-step .step-num {
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--accent-nba);
            min-width: 24px;
            font-weight: bold;
        }
        .pipeline-step.mlb .step-num {
            color: var(--accent-mlb);
        }
        .pipeline-step .step-text {
            font-size: 12px;
            color: rgba(255,255,255,0.6);
            line-height: 1.5;
        }
        .pipeline-step .step-text strong {
            color: rgba(255,255,255,0.9);
        }

        .flowchart-block {
            border: 1px dashed rgba(255,255,255,0.2);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
            color: rgba(255,255,255,0.3);
            font-size: 10px;
        }

        footer {
            background: #080808;
            padding: 40px var(--spacing-md);
            margin-top: var(--spacing-xl);
            color: #FFF;
            border-top: 2px solid #000;
        }
        .footer-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .footer-links {
            display: flex;
            gap: 20px;
        }
        .footer-links a {
            color: rgba(255,255,255,0.5);
            text-decoration: none;
            font-size: 10px;
        }

        .footer-links a:hover {
            color: var(--accent-nba);
            text-decoration: underline;
        }
        .barcode {
            height: 30px;
            width: 140px;
            background-image: linear-gradient(90deg,
                #fff 2px, transparent 2px,
                transparent 4px, #fff 4px,
                #fff 6px, transparent 6px,
                transparent 7px, #fff 7px,
                #fff 12px, transparent 12px,
                transparent 14px, #fff 14px,
                #fff 18px, transparent 18px,
                transparent 19px, #fff 19px,
                #fff 24px, transparent 24px
            );
            opacity: 0.4;
        }
    </style>
</head>
<body>
    <header>
        <div class="brand-lockup">
            <div class="logo anton">MORELLO SIMS</div>
            <div class="logo-tag mono">NBA + MLB</div>
        </div>
        <div class="status-indicators">
            <div class="status-group">
                <span class="status-emoji">&#9918;</span>
                <div class="status-tooltip" data-label="MLB SIM">
                    <div class="status-dot mlb-sim"></div>
                </div>
                <div class="status-tooltip" data-label="MLB ATLAS">
                    <div class="status-dot mlb-atlas"></div>
                </div>
            </div>
            <div class="status-group">
                <span class="status-emoji">&#127936;</span>
                <div class="status-tooltip" data-label="NBA SIM">
                    <div class="status-dot nba-sim"></div>
                </div>
            </div>
        </div>
    </header>
    <div class="container">
        <div class="hero-subtitle mono">
            sports simulation &times; design &times; methodology
        </div>

        <div class="dashboard-grid">

            <article class="card card-nba">
                <div class="card-header">
                    <h2 class="card-title bebas">NBA SIM</h2>
                    <p class="card-meta mono">DAILY MATCHUP SIMULATIONS &times; PLAYER PROPS &times; SCHEME ANALYSIS</p>
                </div>
                <div class="data-preview mono">
                    <div class="data-row">
                        <div class="team-pair bebas">
                            <span>LAL</span> <span style="color:var(--accent-nba)">@</span> <span>GSW</span>
                        </div>
                        <div class="stat-val">O/U 234.5</div>
                        <div class="grade-badge grade-a">A</div>
                    </div>
                    <div class="data-row">
                        <div class="team-pair bebas">
                            <span>BOS</span> <span style="color:var(--accent-nba)">@</span> <span>MIA</span>
                        </div>
                        <div class="stat-val">BOS -4.5</div>
                        <div class="grade-badge grade-b">B</div>
                    </div>
                    <div class="data-row" style="border-bottom:none;">
                        <div class="team-pair bebas">
                            <span>PHX</span> <span style="color:var(--accent-nba)">@</span> <span>DAL</span>
                        </div>
                        <div class="stat-val">PHX ML</div>
                        <div class="grade-badge grade-c">C</div>
                    </div>
                </div>
                <a href="https://jack-more.github.io/nbasim/" class="btn-action btn-nba mono">OPEN DASHBOARD &rarr;</a>
            </article>

            <article class="card card-mlb">
                <div class="card-header">
                    <h2 class="card-title anton">MLB SIM</h2>
                    <p class="card-meta mono">PITCHING MATCHUPS &times; BATTING PROPS &times; SITUATIONAL EDGES</p>
                </div>
                <div class="data-preview mono">
                    <div class="data-row">
                        <div class="team-pair">
                            <span style="font-weight:bold">NYY</span> vs <span style="font-weight:bold">BOS</span>
                        </div>
                        <div class="stat-val">Cole (R)</div>
                        <div class="mlb-badge">EV+</div>
                    </div>
                    <div class="data-row">
                        <div class="team-pair">
                            <span style="font-weight:bold">LAD</span> vs <span style="font-weight:bold">SDP</span>
                        </div>
                        <div class="stat-val">Glasnow (R)</div>
                        <div class="mlb-badge" style="background:#ddd">N/A</div>
                    </div>
                    <div class="data-row" style="border-bottom:none;">
                        <div class="team-pair">
                            <span style="font-weight:bold">ATL</span> vs <span style="font-weight:bold">PHI</span>
                        </div>
                        <div class="stat-val">Strider (R)</div>
                        <div class="mlb-badge" style="background:var(--accent-mlb)">HOT</div>
                    </div>
                </div>
                <a href="https://jack-more.github.io/MLB_PitcherChart/mlbsim.html" class="btn-action btn-mlb">OPEN DASHBOARD &rarr;</a>
            </article>

            <article class="card card-atlas">
                <div class="card-header">
                    <h2 class="card-title anton" style="color:#1e2124;">MLB ATLAS</h2>
                    <p class="card-meta mono">3D PITCHER GALAXY &times; ARCHETYPE CLUSTERING &times; HITTER MATCHUPS</p>
                </div>
                <div class="data-preview mono" style="border-color:rgba(0,0,0,0.1);">
                    <div class="data-row" style="border-bottom-color:rgba(0,0,0,0.08);">
                        <div style="font-weight:bold;color:#333;">34 Archetypes</div>
                        <div class="stat-val" style="color:#555;">RHP + LHP</div>
                        <div class="mlb-badge" style="background:#ff4400;color:#fff">LIVE</div>
                    </div>
                    <div class="data-row" style="border-bottom-color:rgba(0,0,0,0.08);">
                        <div style="font-weight:bold;color:#333;">5,983 Seasons</div>
                        <div class="stat-val" style="color:#555;">2015&ndash;2025</div>
                        <div class="mlb-badge" style="background:rgba(0,0,0,0.08);color:#555;">K-Means</div>
                    </div>
                    <div class="data-row" style="border-bottom:none;">
                        <div style="font-weight:bold;color:#333;">2,696 Batters</div>
                        <div class="stat-val" style="color:#555;">vs Cluster</div>
                        <div class="mlb-badge" style="background:rgba(0,0,0,0.08);color:#555;">wOBA</div>
                    </div>
                </div>
                <div class="desktop-only-label">DESKTOP RECOMMENDED</div>
                <a href="https://jack-more.github.io/MLB_PitcherChart/cosmos.html" class="btn-action btn-atlas mono" style="background:#ff4400;color:#fff;border:none;">OPEN ATLAS &rarr;</a>
            </article>
        </div>
        <div class="log-divider">
            <span class="log-label mono uppercase">DISPATCH_LOG</span>
        </div>

        <div class="blog-feed">

            <!-- ═══════════════════════════════════════════════════ -->
            <!-- BLOG POST 1: MLB SIM + ATLAS                      -->
            <!-- ═══════════════════════════════════════════════════ -->
            <details class="blog-card post-mlb" id="post-mlb-system">
                <summary>
                    <div class="blog-meta mono">
                        <span class="blog-date">FEB 16, 2026</span>
                        <div class="blog-system-dots">
                            <span style="font-size:14px; margin-right:2px;">⚾</span>
                            <div class="blog-system-dot dot-mlb-sim" title="MLB SIM"></div>
                            <div class="blog-system-dot dot-mlb-atlas" title="MLB ATLAS"></div>
                        </div>
                    </div>
                    <h3 class="blog-title bebas">BUILDING THE MLB PITCHER ARCHETYPE ENGINE: DATA DESIGN &amp; SYSTEM ARCHITECTURE</h3>
                    <p class="blog-preview">
                        A deep dive into the 8-step data pipeline that transforms raw Statcast pitch-level telemetry into a 3D terrain city of pitcher archetypes. From SV reclassification to GMM clustering, Voronoi neighborhood tessellation, Gaussian terrain heightfields, and the Three.js city visualization.
                    </p>
                </summary>
                <div class="blog-card-body">
                <!-- MLB SYSTEM DIAGRAM: FULL PIPELINE -->
                <div class="diagram-label mono">FIG. 01: MLB PIPELINE &mdash; END-TO-END DATA FLOW</div>
                <div class="system-diagram">
                    <svg viewBox="0 0 860 640" xmlns="http://www.w3.org/2000/svg" style="background:#080808">
                        <defs>
                            <marker id="mlb-a" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#FFEA00"/></marker>
                            <marker id="atl-a" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#FF6B00"/></marker>
                            <pattern id="mlb-grid" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="#1a1a1a" stroke-width="0.5"/></pattern>
                            <filter id="mlb-glow"><feGaussianBlur stdDeviation="3" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                        </defs>
                        <rect width="860" height="640" fill="url(#mlb-grid)"/>
                        <!-- Scanlines -->
                        <line x1="0" y1="0" x2="860" y2="0" stroke="#FFEA00" stroke-width="3" opacity="0.6"/>
                        <line x1="0" y1="639" x2="860" y2="639" stroke="#FF6B00" stroke-width="2" opacity="0.4"/>
                        <!-- Title block -->
                        <rect x="0" y="8" width="860" height="38" fill="#111"/>
                        <text x="20" y="34" fill="#FFEA00" font-family="monospace" font-size="14" font-weight="bold" letter-spacing="4">MLB PITCHER ARCHETYPE PIPELINE</text>
                        <text x="840" y="34" fill="#555" font-family="monospace" font-size="9" text-anchor="end">8 STEPS &bull; PYTHON</text>
                        <!-- Horizontal rule -->
                        <line x1="0" y1="50" x2="860" y2="50" stroke="#FFEA00" stroke-width="2" opacity="0.3"/>

                        <!-- ── LAYER 1: INGESTION ── -->
                        <rect x="16" y="60" width="4" height="14" fill="#FFEA00"/>
                        <text x="28" y="72" fill="#FFEA00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">LAYER 1: INGESTION</text>
                        <!-- Source boxes — brutalist hard edges, thick borders -->
                        <rect x="20" y="84" width="200" height="60" fill="#111" stroke="#FFEA00" stroke-width="2.5"/>
                        <text x="120" y="108" fill="#FFEA00" font-family="monospace" font-size="13" text-anchor="middle" font-weight="bold">STATCAST API</text>
                        <text x="120" y="126" fill="#888" font-family="monospace" font-size="9" text-anchor="middle">pybaseball &bull; pitch-level data</text>
                        <rect x="240" y="84" width="200" height="60" fill="#111" stroke="#FF6B00" stroke-width="2.5"/>
                        <text x="340" y="108" fill="#FF6B00" font-family="monospace" font-size="13" text-anchor="middle" font-weight="bold">BASEBALL SAVANT</text>
                        <text x="340" y="126" fill="#888" font-family="monospace" font-size="9" text-anchor="middle">2015&ndash;2026 &bull; ~700K pitches/yr</text>
                        <rect x="460" y="84" width="180" height="60" fill="#111" stroke="#444" stroke-width="2"/>
                        <text x="550" y="108" fill="#ccc" font-family="monospace" font-size="13" text-anchor="middle">ROSTER DATA</text>
                        <text x="550" y="126" fill="#666" font-family="monospace" font-size="9" text-anchor="middle">Teams &bull; Rosters &bull; WBC</text>
                        <!-- Down arrow -->
                        <line x1="220" y1="144" x2="220" y2="170" stroke="#FFEA00" stroke-width="2.5" marker-end="url(#mlb-a)"/>
                        <!-- Parquet storage bar -->
                        <rect x="60" y="176" width="520" height="34" fill="#151515" stroke="#FFEA00" stroke-width="1.5" stroke-dasharray="6,3"/>
                        <text x="320" y="198" fill="#FFEA00" font-family="monospace" font-size="12" text-anchor="middle" filter="url(#mlb-glow)">statcast_{year}.parquet &mdash; ~150 MB/season &bull; Snappy compressed</text>

                        <!-- ── LAYER 2: FEATURE ENGINEERING ── -->
                        <line x1="320" y1="210" x2="320" y2="238" stroke="#FFEA00" stroke-width="2" marker-end="url(#mlb-a)"/>
                        <rect x="16" y="244" width="4" height="14" fill="#FFEA00"/>
                        <text x="28" y="256" fill="#FFEA00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">LAYER 2: FEATURE ENGINEERING</text>
                        <!-- 4 step boxes — industrial card style -->
                        <rect x="20" y="268" width="150" height="76" fill="#0e0e0e" stroke="#FFEA00" stroke-width="2"/>
                        <rect x="20" y="268" width="150" height="20" fill="#FFEA00"/><text x="95" y="282" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">01 FETCH</text>
                        <text x="95" y="304" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">Month-chunked pulls</text>
                        <text x="95" y="318" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">Retry w/ backoff</text>
                        <text x="95" y="336" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">59 columns kept</text>
                        <line x1="170" y1="306" x2="190" y2="306" stroke="#FFEA00" stroke-width="2" marker-end="url(#mlb-a)"/>
                        <rect x="194" y="268" width="150" height="76" fill="#0e0e0e" stroke="#FFEA00" stroke-width="2"/>
                        <rect x="194" y="268" width="150" height="20" fill="#FFEA00"/><text x="269" y="282" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">02 ROLES</text>
                        <text x="269" y="304" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">SP/RP classification</text>
                        <text x="269" y="318" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">Games started ratio</text>
                        <text x="269" y="336" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">Binary: is_sp</text>
                        <line x1="344" y1="306" x2="364" y2="306" stroke="#FFEA00" stroke-width="2" marker-end="url(#mlb-a)"/>
                        <rect x="368" y="268" width="150" height="76" fill="#0e0e0e" stroke="#FFEA00" stroke-width="2"/>
                        <rect x="368" y="268" width="150" height="20" fill="#FFEA00"/><text x="443" y="282" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">03 FEATURES</text>
                        <text x="443" y="304" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">Pitch mix (10 types)</text>
                        <text x="443" y="318" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">Velo, spin, whiff, arm</text>
                        <text x="443" y="336" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">SV reclassification</text>
                        <line x1="518" y1="306" x2="538" y2="306" stroke="#FFEA00" stroke-width="2" marker-end="url(#mlb-a)"/>
                        <rect x="542" y="268" width="150" height="76" fill="#0e0e0e" stroke="#FFEA00" stroke-width="2"/>
                        <rect x="542" y="268" width="150" height="20" fill="#FFEA00"/><text x="617" y="282" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">ZONE LOC</text>
                        <text x="617" y="304" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">Same/opp side splits</text>
                        <text x="617" y="318" fill="#bbb" font-family="monospace" font-size="8" text-anchor="middle">9-quadrant entropy</text>
                        <text x="617" y="336" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">13 zone features</text>

                        <!-- Feature vector output -->
                        <line x1="380" y1="344" x2="380" y2="372" stroke="#FFEA00" stroke-width="2" marker-end="url(#mlb-a)"/>
                        <rect x="80" y="378" width="600" height="32" fill="#1a1500" stroke="#FFEA00" stroke-width="2.5"/>
                        <text x="380" y="400" fill="#FFEA00" font-family="monospace" font-size="12" text-anchor="middle" font-weight="bold" filter="url(#mlb-glow)">PITCHER-SEASON FEATURE VECTOR (14 DIMENSIONS)</text>
                        <text x="720" y="390" fill="#555" font-family="monospace" font-size="7">pct_FF, pct_SI, pct_FC,</text>
                        <text x="720" y="400" fill="#555" font-family="monospace" font-size="7">pct_SL, pct_CH, pct_CU,</text>
                        <text x="720" y="410" fill="#555" font-family="monospace" font-size="7">velo, spin, gb, whiff...</text>

                        <!-- ── LAYER 3: CLUSTERING ── -->
                        <line x1="380" y1="410" x2="380" y2="436" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a)"/>
                        <rect x="16" y="442" width="4" height="14" fill="#FF6B00"/>
                        <text x="28" y="454" fill="#FF6B00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">LAYER 3: CLUSTERING &amp; CLASSIFICATION</text>
                        <rect x="20" y="466" width="220" height="80" fill="#0e0e0e" stroke="#FF6B00" stroke-width="2.5"/>
                        <rect x="20" y="466" width="220" height="22" fill="#FF6B00"/><text x="130" y="482" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">04 GMM CLUSTERING</text>
                        <text x="130" y="504" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">RHP / LHP split independently</text>
                        <text x="130" y="518" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">StandardScaler &rarr; BIC optimization</text>
                        <text x="130" y="532" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Min K=8 &bull; 3D PCA &bull; X-offset &plusmn;5</text>
                        <line x1="240" y1="506" x2="264" y2="506" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a)"/>
                        <rect x="268" y="466" width="220" height="80" fill="#0e0e0e" stroke="#FF6B00" stroke-width="2.5"/>
                        <rect x="268" y="466" width="220" height="22" fill="#FF6B00"/><text x="378" y="482" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">05 ARCHETYPE NAMING</text>
                        <text x="378" y="504" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Geometric medoid (real pitcher)</text>
                        <text x="378" y="518" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Rule-based trait scoring</text>
                        <text x="378" y="532" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">17 names: Snake, Ghost, Barnburner</text>
                        <line x1="488" y1="506" x2="512" y2="506" stroke="#FFEA00" stroke-width="2" marker-end="url(#mlb-a)"/>
                        <rect x="516" y="466" width="220" height="80" fill="#0e0e0e" stroke="#FFEA00" stroke-width="2"/>
                        <rect x="516" y="466" width="220" height="22" fill="#FFEA00"/><text x="626" y="482" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">06-08 MATCHUP ANALYTICS</text>
                        <text x="626" y="504" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Hitter vs Cluster (wOBA, K%, BB%)</text>
                        <text x="626" y="518" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Hitter vs Pitcher (head-to-head)</text>
                        <text x="626" y="532" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Hitter Timing Archetypes</text>

                        <!-- ── LAYER 4: FRONTEND ── -->
                        <line x1="380" y1="546" x2="380" y2="572" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a)"/>
                        <rect x="16" y="578" width="4" height="14" fill="#FF6B00"/>
                        <text x="28" y="590" fill="#FF6B00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">LAYER 4: FRONTEND DELIVERY</text>
                        <rect x="20" y="600" width="250" height="30" fill="#1a0e00" stroke="#FF6B00" stroke-width="2"/>
                        <text x="145" y="620" fill="#FF6B00" font-family="monospace" font-size="11" text-anchor="middle" font-weight="bold">COSMOS ATLAS &bull; Three.js</text>
                        <rect x="290" y="600" width="250" height="30" fill="#1a1500" stroke="#FFEA00" stroke-width="2"/>
                        <text x="415" y="620" fill="#FFEA00" font-family="monospace" font-size="11" text-anchor="middle" font-weight="bold">MLB SIM &bull; React</text>
                        <rect x="560" y="600" width="180" height="30" fill="#111" stroke="#444" stroke-width="1.5"/>
                        <text x="650" y="620" fill="#999" font-family="monospace" font-size="10" text-anchor="middle">Vite &rarr; GitHub Pages</text>
                        <!-- Bottom accent -->
                        <line x1="0" y1="638" x2="860" y2="638" stroke="#FF6B00" stroke-width="2" opacity="0.4"/>

                        <!-- Tech pill badges -->
                        <rect x="756" y="84" width="80" height="20" fill="#FFEA00" rx="0"/><text x="796" y="98" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">Python</text>
                        <rect x="756" y="110" width="80" height="20" fill="#FF6B00" rx="0"/><text x="796" y="124" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">sklearn</text>
                        <rect x="756" y="136" width="80" height="20" fill="#222" stroke="#666" stroke-width="1" rx="0"/><text x="796" y="150" fill="#ccc" font-family="monospace" font-size="9" text-anchor="middle">pandas</text>
                        <rect x="756" y="162" width="80" height="20" fill="#222" stroke="#666" stroke-width="1" rx="0"/><text x="796" y="176" fill="#ccc" font-family="monospace" font-size="9" text-anchor="middle">Three.js</text>
                        <rect x="756" y="188" width="80" height="20" fill="#222" stroke="#666" stroke-width="1" rx="0"/><text x="796" y="202" fill="#ccc" font-family="monospace" font-size="9" text-anchor="middle">Parquet</text>
                    </svg>
                </div>

                <h4 class="blog-section-header bebas">THE 8-STEP PIPELINE</h4>
                <p class="blog-body-text mlb">
                    The MLB system is an <strong>8-step sequential pipeline</strong> built in Python, orchestrated by <code>run_all.py</code>. Each step reads the previous step's output and writes its own artifacts. The entire pipeline can be resumed from any step with <code>--from N</code>.
                </p>

                <div class="pipeline-step mlb">
                    <span class="step-num">01</span>
                    <span class="step-text"><strong>Fetch Statcast</strong> &mdash; Pulls pitch-level telemetry from Baseball Savant via <code>pybaseball</code>. Data is chunked by month (Mar-Oct) with retry logic and polite 2s delays. Each season yields ~700K pitches across 59 columns including release speed, spin rate, pitch movement (pfx_x/pfx_z), plate location, and batted ball outcomes. Saved as compressed Parquet files (~150MB/season).</span>
                </div>
                <div class="pipeline-step mlb">
                    <span class="step-num">02</span>
                    <span class="step-text"><strong>Classify SP/RP Roles</strong> &mdash; Determines whether each pitcher-season is a Starter or Reliever based on games-started ratio. Produces a binary <code>is_sp</code> flag used downstream for role-aware archetype naming.</span>
                </div>
                <div class="pipeline-step mlb">
                    <span class="step-num">03</span>
                    <span class="step-text"><strong>Feature Engineering</strong> &mdash; The heaviest step. Aggregates pitch-level data into pitcher-season feature vectors. Computes: <strong>pitch mix usage rates</strong> (10 types), <strong>SV reclassification</strong> (SV pitches mapped to CU/SL/ST per pitcher based on velocity and vertical break), spin rates, arm angle (derived from release point geometry), whiff rate, fastball velocity, groundball rate, zone rate, pitch movement vectors, and a <strong>13-feature zone location layer</strong> with same-side/opposite-side splits, platoon shifts, and Shannon entropy of 9-quadrant distributions.</span>
                </div>
                <div class="pipeline-step mlb">
                    <span class="step-num">04</span>
                    <span class="step-text"><strong>GMM Clustering</strong> &mdash; Pitchers are split by handedness (RHP/LHP) and clustered independently using Gaussian Mixture Models. Features are StandardScaled, then GMM is fit across K=2&ndash;15 with BIC optimization (minimum K=8 enforced for meaningful granularity). GMM captures soft cluster boundaries and probabilistic membership, which better reflects how pitcher styles blend. Each hand produces 17 clusters. A 3D PCA projection is computed for the Atlas city view, with RHP offset +5 on the X axis and LHP offset &minus;5 to create visual separation.</span>
                </div>
                <div class="pipeline-step mlb">
                    <span class="step-num">05</span>
                    <span class="step-text"><strong>Archetype Naming</strong> &mdash; Each cluster's geometric medoid (the real pitcher minimizing sum of distances to all cluster members) is identified. A rule-based trait scorer examines the medoid's pitch mix, velocity, spin, and outcomes to assign one of 17 archetype names: Snake, Barnburner, Ghost, Earthworm, Swordfighter, Kitchen Sink, and more. Each archetype gets a consistent color and emoji for the frontend.</span>
                </div>
                <div class="pipeline-step mlb">
                    <span class="step-num">06</span>
                    <span class="step-text"><strong>Hitter vs Cluster</strong> &mdash; Every pitch is tagged with its pitcher's cluster ID. Plate appearance outcomes are aggregated per batter &times; cluster &times; year &times; batter-side, producing wOBA, BA, SLG, K%, BB%, and whiff% for each matchup combination.</span>
                </div>
                <div class="pipeline-step mlb">
                    <span class="step-num">07</span>
                    <span class="step-text"><strong>Hitter vs Pitcher</strong> &mdash; Direct head-to-head stats between individual batters and pitchers, providing granular matchup data beyond the cluster-level aggregations.</span>
                </div>
                <div class="pipeline-step mlb">
                    <span class="step-num">08</span>
                    <span class="step-text"><strong>Hitter Timing Archetypes</strong> &mdash; Classifies hitters by their timing and approach patterns against different pitch types and velocities, adding another dimension to the matchup analysis.</span>
                </div>

                <!-- MLB ATLAS DIAGRAM -->
                <div class="diagram-label mono" style="margin-top:24px">FIG. 02: COSMOS ATLAS &mdash; 3D TERRAIN CITY ARCHITECTURE</div>
                <div class="system-diagram">
                    <svg viewBox="0 0 860 520" xmlns="http://www.w3.org/2000/svg" style="background:#080808">
                        <defs>
                            <pattern id="atl-grid" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="#1a1a1a" stroke-width="0.5"/></pattern>
                            <marker id="atl-a2" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#FF6B00"/></marker>
                            <marker id="mlb-a2" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#FFEA00"/></marker>
                            <filter id="atl-glow"><feGaussianBlur stdDeviation="3" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                        </defs>
                        <rect width="860" height="520" fill="url(#atl-grid)"/>
                        <line x1="0" y1="0" x2="860" y2="0" stroke="#FF6B00" stroke-width="3" opacity="0.6"/>
                        <!-- Title -->
                        <rect x="0" y="8" width="860" height="38" fill="#111"/>
                        <text x="20" y="34" fill="#FF6B00" font-family="monospace" font-size="14" font-weight="bold" letter-spacing="4">COSMOS ATLAS &mdash; 3D TERRAIN CITY</text>
                        <text x="840" y="34" fill="#555" font-family="monospace" font-size="9" text-anchor="end">Vanilla JS + Three.js</text>
                        <line x1="0" y1="50" x2="860" y2="50" stroke="#FF6B00" stroke-width="2" opacity="0.3"/>

                        <!-- DATA LAYER -->
                        <rect x="16" y="60" width="4" height="14" fill="#FF6B00"/>
                        <text x="28" y="72" fill="#FF6B00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">DATA FILES (JSON)</text>

                        <rect x="20" y="84" width="200" height="72" fill="#111" stroke="#FF6B00" stroke-width="2.5"/>
                        <rect x="20" y="84" width="200" height="20" fill="#FF6B00"/><text x="120" y="98" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">clusters.json</text>
                        <text x="120" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">34 archetype profiles + colors</text>
                        <text x="120" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Medoid PCA (x,y,z) positions</text>
                        <text x="120" y="148" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">pitcher_count, velo, whiff, GB%</text>

                        <rect x="240" y="84" width="200" height="72" fill="#111" stroke="#FF6B00" stroke-width="2.5"/>
                        <rect x="240" y="84" width="200" height="20" fill="#FF6B00"/><text x="340" y="98" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">pitcher_seasons.json</text>
                        <text x="340" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">5,983 pitcher-seasons (2015-26)</text>
                        <text x="340" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">PCA x, y, z coordinates</text>
                        <text x="340" y="148" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Name, hand, cluster, velo</text>

                        <rect x="460" y="84" width="200" height="72" fill="#111" stroke="#FFEA00" stroke-width="2.5"/>
                        <rect x="460" y="84" width="200" height="20" fill="#FFEA00"/><text x="560" y="98" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">hitter_vs_cluster.json</text>
                        <text x="560" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Batter vs archetype stats</text>
                        <text x="560" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">wOBA, BA, SLG, K%, BB%</text>
                        <text x="560" y="148" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Min 10 PA threshold</text>

                        <rect x="680" y="84" width="160" height="72" fill="#111" stroke="#FFEA00" stroke-width="2"/>
                        <rect x="680" y="84" width="160" height="20" fill="#FFEA00"/><text x="760" y="98" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">batters.json</text>
                        <text x="760" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">MLB batter directory</text>
                        <text x="760" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Name, ID, team, side</text>
                        <text x="760" y="148" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Autocomplete search</text>

                        <!-- Down to 3D scene -->
                        <line x1="380" y1="156" x2="380" y2="182" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a2)"/>

                        <!-- 3D SCENE LAYER -->
                        <rect x="16" y="188" width="4" height="14" fill="#FF6B00"/>
                        <text x="28" y="200" fill="#FF6B00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">THREE.JS 3D SCENE (WebGL + CSS2DRenderer)</text>

                        <rect x="20" y="210" width="820" height="34" fill="#151005" stroke="#FF6B00" stroke-width="2"/>
                        <text x="430" y="232" fill="#FF6B00" font-family="monospace" font-size="12" text-anchor="middle" font-weight="bold" filter="url(#atl-glow)">cosmos.html &mdash; STATE: activeBatters[] &bull; selectedStat &bull; selectedYear &bull; minPA &bull; visibleClusters</text>

                        <!-- Down to render components -->
                        <line x1="160" y1="244" x2="160" y2="270" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a2)"/>
                        <line x1="380" y1="244" x2="380" y2="270" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a2)"/>
                        <line x1="600" y1="244" x2="600" y2="270" stroke="#FFEA00" stroke-width="2" marker-end="url(#mlb-a2)"/>

                        <!-- GEOMETRY LAYER -->
                        <rect x="16" y="274" width="4" height="14" fill="#FF6B00"/>
                        <text x="28" y="286" fill="#FF6B00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">SCENE GEOMETRY</text>

                        <rect x="20" y="296" width="200" height="94" fill="#0e0e0e" stroke="#FF6B00" stroke-width="2.5"/>
                        <rect x="20" y="296" width="200" height="22" fill="#FF6B00"/><text x="120" y="312" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">TERRAIN HEIGHTFIELD</text>
                        <text x="120" y="334" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">128&times;128 subdivided PlaneGeometry</text>
                        <text x="120" y="348" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Gaussian kernel density sum</text>
                        <text x="120" y="362" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">pitcher_count &rarr; hill elevation</text>
                        <text x="120" y="378" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">LA-style rolling topography</text>

                        <rect x="240" y="296" width="200" height="94" fill="#0e0e0e" stroke="#FF6B00" stroke-width="2.5"/>
                        <rect x="240" y="296" width="200" height="22" fill="#FF6B00"/><text x="340" y="312" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">VORONOI NEIGHBORHOODS</text>
                        <text x="340" y="334" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">34 districts (17 RHP + 17 LHP)</text>
                        <text x="340" y="348" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Half-plane bisector clipping</text>
                        <text x="340" y="362" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">ShapeGeometry on terrain surface</text>
                        <text x="340" y="378" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Inset 3% for street gaps</text>

                        <rect x="460" y="296" width="180" height="94" fill="#0e0e0e" stroke="#FF6B00" stroke-width="2"/>
                        <rect x="460" y="296" width="180" height="22" fill="#FF6B00"/><text x="550" y="312" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">3D BUILDINGS</text>
                        <text x="550" y="334" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">BoxGeometry per grid cell</text>
                        <text x="550" y="348" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Height = avg fastball velo</text>
                        <text x="550" y="362" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Confined inside Voronoi zone</text>
                        <text x="550" y="378" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">PCF soft shadows</text>

                        <rect x="660" y="296" width="180" height="94" fill="#0e0e0e" stroke="#FFEA00" stroke-width="2"/>
                        <rect x="660" y="296" width="180" height="22" fill="#FFEA00"/><text x="750" y="312" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">INTERACTIONS</text>
                        <text x="750" y="334" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">OrbitControls (rotate/zoom)</text>
                        <text x="750" y="348" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Raycaster click/hover</text>
                        <text x="750" y="362" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">CSS2DObject floating labels</text>
                        <text x="750" y="378" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Batter route arcs (TubeGeo)</text>

                        <!-- Down to output -->
                        <line x1="380" y1="390" x2="380" y2="416" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a2)"/>

                        <!-- REBUILD PIPELINE -->
                        <rect x="16" y="420" width="4" height="14" fill="#FF6B00"/>
                        <text x="28" y="432" fill="#FF6B00" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">REBUILD PIPELINE (on filter change)</text>

                        <rect x="20" y="444" width="820" height="34" fill="#1a0e00" stroke="#FF6B00" stroke-width="2.5"/>
                        <text x="430" y="466" fill="#FF6B00" font-family="monospace" font-size="11" text-anchor="middle" font-weight="bold" filter="url(#atl-glow)">buildTerrain() &rarr; buildNeighborhoods() &rarr; buildBuildings() &rarr; buildHighway() &rarr; buildLabels() &rarr; buildRoutes()</text>

                        <!-- OUTPUT -->
                        <line x1="380" y1="478" x2="380" y2="494" stroke="#FF6B00" stroke-width="2" marker-end="url(#atl-a2)"/>
                        <rect x="200" y="494" width="460" height="20" fill="#111" stroke="#555" stroke-width="1"/>
                        <text x="430" y="508" fill="#999" font-family="monospace" font-size="9" text-anchor="middle">GitHub Pages &bull; Static &bull; No server &bull; ~130MB JSON data baked in</text>

                        <line x1="0" y1="518" x2="860" y2="518" stroke="#FF6B00" stroke-width="2" opacity="0.4"/>
                    </svg>
                </div>

                <h4 class="blog-section-header bebas">KEY DESIGN DECISIONS</h4>
                <p class="blog-body-text mlb">
                    <strong>GMM over K-Means:</strong> We use Gaussian Mixture Models instead of K-Means for clustering. GMM captures soft cluster boundaries and probabilistic membership&mdash;a pitcher can be 70% Ghost and 30% Swordfighter&mdash;which better reflects how real pitching styles blend. Model selection uses BIC (Bayesian Information Criterion) rather than silhouette score, with minimum K=8 enforced per hand.
                </p>
                <p class="blog-body-text mlb">
                    <strong>SV Reclassification:</strong> Statcast's &ldquo;SV&rdquo; (sweeper) classification is inconsistent across seasons. We built a per-pitcher mapping that examines career-average SV velocity and vertical break to reclassify each pitcher's SV as curveball (pfx_z &lt; &minus;0.50), slider (speed &gt; 84 mph), or sweeper (everything else). This ensures clustering stability across the 2015&ndash;2026 dataset.
                </p>
                <p class="blog-body-text mlb">
                    <strong>Separate RHP/LHP Clustering:</strong> Rather than clustering all pitchers together, we split by handedness first. This prevents the dominant handedness signal from overwhelming the pitch-mix features. Each hand gets its own StandardScaler, GMM model, and PCA projection. The X-axis offset (+5/&minus;5) in PCA space creates the visual highway divider in the city view.
                </p>
                <p class="blog-body-text mlb">
                    <strong>Medoid over Centroid:</strong> Archetype representatives are chosen as the geometric medoid (the real pitcher that minimizes total distance to all cluster members), not the mathematical centroid. This means every archetype profile references an actual pitcher's stats, not a phantom average that no real pitcher matches.
                </p>
                <p class="blog-body-text mlb">
                    <strong>Zone Location Entropy:</strong> The 13-feature zone location layer captures not just where pitchers throw, but how predictable their patterns are. Shannon entropy across a 9-quadrant grid (3 lateral &times; 3 vertical) measures location unpredictability, and platoon shift features capture how much a pitcher adjusts against same-side vs opposite-side batters.
                </p>

                <h4 class="blog-section-header bebas">3D TERRAIN CITY VISUALIZATION</h4>
                <p class="blog-body-text mlb">
                    <strong>LA-Style Terrain Heightfield:</strong> The flat ground plane is replaced with a 128&times;128 subdivided mesh whose vertices are displaced by a Gaussian kernel density function. Each of the 34 cluster centroids emits a Gaussian &ldquo;hill&rdquo; with amplitude proportional to <code>log(pitcher_count)</code>. Dense clusters like RHP Ghost (542 pitchers) form prominent hilltops; sparse ones like Knuckleball Wizard sit in valleys. The result is an organic, LA-style rolling topography.
                </p>
                <p class="blog-body-text mlb">
                    <strong>Voronoi Neighborhood Tessellation:</strong> Each archetype occupies a Voronoi cell computed via half-plane bisector clipping (Sutherland-Hodgman). These polygons are projected onto the terrain surface as <code>ShapeGeometry</code> meshes, with vertices displaced to follow the heightfield. A 3% inset creates natural &ldquo;street&rdquo; gaps between districts.
                </p>
                <p class="blog-body-text mlb">
                    <strong>Buildings Confined to Voronoi Zones:</strong> Rather than placing buildings at individual pitcher PCA coordinates (which causes cross-cluster color mixing), buildings are packed into a grid of slots <em>inside</em> each Voronoi polygon using point-in-polygon tests. Slots fill center-outward, pitchers distribute round-robin. Each building's height maps to average fastball velocity; bases sit on the terrain surface. This guarantees clean, single-color districts.
                </p>
                <p class="blog-body-text mlb">
                    <strong>Terrain-Following Highway:</strong> The RHP/LHP divider at X=0 is built as discrete segments that follow the terrain contour, with emissive orange dashes for the center line. All scene elements&mdash;neighborhoods, buildings, labels, batter route arcs&mdash;are terrain-aware via bilinear-interpolated height queries.
                </p>

                <div class="blog-tags mono">
                    <span class="tag">METHODOLOGY</span>
                    <span class="tag">MLB</span>
                    <span class="tag">ATLAS</span>
                    <span class="tag">DATA ARCHITECTURE</span>
                    <span class="tag">DEVLOG</span>
                </div>
                </div>
            </details>


            <!-- ═══════════════════════════════════════════════════ -->
            <!-- BLOG POST 2: NBA SIM                              -->
            <!-- ═══════════════════════════════════════════════════ -->
            <details class="blog-card post-nba" id="post-nba-system">
                <summary>
                    <div class="blog-meta mono">
                        <span class="blog-date">FEB 16, 2026</span>
                        <div class="blog-system-dots">
                            <span style="font-size:14px; margin-right:2px;">🏀</span>
                            <div class="blog-system-dot dot-nba-sim" title="NBA SIM"></div>
                        </div>
                    </div>
                    <h3 class="blog-title bebas">NBA SIM: MULTI-LAYER PREDICTION ENGINE &mdash; FROM NBA API TO GAME PREDICTIONS</h3>
                    <p class="blog-preview">
                        How we built a 4-phase pipeline that ingests NBA player tracking data, classifies coaching schemes via percentile-rank play type analysis, clusters players into position-specific archetypes using weighted K-Means, computes multi-level synergy scores, and generates spread/total predictions against live betting lines.
                    </p>
                </summary>
                <div class="blog-card-body">
                <!-- NBA SYSTEM DIAGRAM: FULL PIPELINE -->
                <div class="diagram-label mono">FIG. 03: NBA SIM &mdash; COMPLETE SYSTEM ARCHITECTURE</div>
                <div class="system-diagram">
                    <svg viewBox="0 0 860 820" xmlns="http://www.w3.org/2000/svg" style="background:#080808">
                        <defs>
                            <marker id="nba-a" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#00FF55"/></marker>
                            <marker id="nba-a2" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#00cc44"/></marker>
                            <pattern id="nba-grid" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="#1a1a1a" stroke-width="0.5"/></pattern>
                            <filter id="nba-glow"><feGaussianBlur stdDeviation="3" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                        </defs>
                        <rect width="860" height="820" fill="url(#nba-grid)"/>
                        <!-- Scanlines -->
                        <line x1="0" y1="0" x2="860" y2="0" stroke="#00FF55" stroke-width="3" opacity="0.6"/>
                        <line x1="0" y1="819" x2="860" y2="819" stroke="#00FF55" stroke-width="2" opacity="0.4"/>
                        <!-- Title block -->
                        <rect x="0" y="8" width="860" height="38" fill="#111"/>
                        <text x="20" y="34" fill="#00FF55" font-family="monospace" font-size="14" font-weight="bold" letter-spacing="4">NBA SIM &mdash; MULTI-LAYER PREDICTION ENGINE</text>
                        <text x="840" y="34" fill="#555" font-family="monospace" font-size="9" text-anchor="end">4 PHASES &bull; PYTHON + SKLEARN</text>
                        <line x1="0" y1="50" x2="860" y2="50" stroke="#00FF55" stroke-width="2" opacity="0.3"/>

                        <!-- ── PHASE 1: COLLECT ── -->
                        <rect x="16" y="60" width="4" height="14" fill="#00FF55"/>
                        <text x="28" y="72" fill="#00FF55" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">PHASE 1: COLLECT (6 COLLECTORS)</text>

                        <!-- nba_api -->
                        <rect x="20" y="86" width="130" height="76" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="20" y="86" width="130" height="20" fill="#00FF55"/><text x="85" y="100" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">nba_api</text>
                        <text x="85" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Teams, Rosters</text>
                        <text x="85" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Season Stats</text>
                        <text x="85" y="148" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">Rate limited: 2s</text>

                        <!-- Game Data -->
                        <rect x="160" y="86" width="130" height="76" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="160" y="86" width="130" height="20" fill="#00FF55"/><text x="225" y="100" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">GAME DATA</text>
                        <text x="225" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Scores, Box Scores</text>
                        <text x="225" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">27 stat columns/game</text>
                        <text x="225" y="148" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">Per-game + advanced</text>

                        <!-- Lineups -->
                        <rect x="300" y="86" width="130" height="76" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="300" y="86" width="130" height="20" fill="#00FF55"/><text x="365" y="100" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">LINEUPS</text>
                        <text x="365" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">2-man through 5-man</text>
                        <text x="365" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Net rating, possessions</text>
                        <text x="365" y="148" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">Min poss thresholds</text>

                        <!-- Play Types -->
                        <rect x="440" y="86" width="130" height="76" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="440" y="86" width="130" height="20" fill="#00FF55"/><text x="505" y="100" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">PLAY TYPES</text>
                        <text x="505" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">SynergyPlayTypes API</text>
                        <text x="505" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">11 types &times; Off/Def</text>
                        <text x="505" y="148" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">PPP, freq%, TO%, FG%</text>

                        <!-- Box Scores -->
                        <rect x="580" y="86" width="130" height="76" fill="#0e0e0e" stroke="#00FF55" stroke-width="2"/>
                        <rect x="580" y="86" width="130" height="20" fill="#00FF55"/><text x="645" y="100" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">BOX SCORES</text>
                        <text x="645" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Player per-game</text>
                        <text x="645" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">USG%, TS%, OРТG, PIE</text>
                        <text x="645" y="148" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">27 columns each</text>

                        <!-- Odds API -->
                        <rect x="720" y="86" width="120" height="76" fill="#0e0e0e" stroke="#00cc44" stroke-width="2"/>
                        <rect x="720" y="86" width="120" height="20" fill="#00cc44"/><text x="780" y="100" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">ODDS API</text>
                        <text x="780" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">the-odds-api.com</text>
                        <text x="780" y="132" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Spreads + Totals</text>
                        <text x="780" y="148" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">Multi-book consensus</text>

                        <!-- Down arrows to DB -->
                        <line x1="225" y1="162" x2="225" y2="186" stroke="#00FF55" stroke-width="2.5" marker-end="url(#nba-a)"/>
                        <line x1="505" y1="162" x2="505" y2="186" stroke="#00FF55" stroke-width="2.5" marker-end="url(#nba-a)"/>

                        <!-- Database bar -->
                        <rect x="60" y="192" width="640" height="36" fill="#001a0a" stroke="#00FF55" stroke-width="2.5"/>
                        <text x="380" y="216" fill="#00FF55" font-family="monospace" font-size="13" text-anchor="middle" font-weight="bold" filter="url(#nba-glow)">SQLite &mdash; nba_sim.db &mdash; 17 TABLES</text>
                        <text x="740" y="206" fill="#555" font-family="monospace" font-size="7">player_game_stats</text>
                        <text x="740" y="216" fill="#555" font-family="monospace" font-size="7">lineup_stats (2-5 man)</text>
                        <text x="740" y="226" fill="#555" font-family="monospace" font-size="7">team/player_playtypes</text>

                        <!-- ── PHASE 2: ANALYZE ── -->
                        <line x1="380" y1="228" x2="380" y2="256" stroke="#00FF55" stroke-width="2.5" marker-end="url(#nba-a)"/>
                        <rect x="16" y="264" width="4" height="14" fill="#00FF55"/>
                        <text x="28" y="276" fill="#00FF55" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">PHASE 2: ANALYZE (2 ENGINES)</text>

                        <!-- Coaching Scheme Classifier -->
                        <rect x="20" y="290" width="400" height="148" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="20" y="290" width="400" height="22" fill="#00FF55"/><text x="220" y="306" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">COACHING SCHEME CLASSIFIER</text>

                        <text x="40" y="328" fill="#00FF55" font-family="monospace" font-size="9" font-weight="bold">OFFENSIVE</text>
                        <text x="40" y="342" fill="#bbb" font-family="monospace" font-size="8">PnR-Heavy, ISO-Heavy</text>
                        <text x="40" y="356" fill="#bbb" font-family="monospace" font-size="8">Motion, Run-and-Gun</text>
                        <text x="40" y="370" fill="#bbb" font-family="monospace" font-size="8">Spot-Up, Post-Oriented</text>
                        <text x="40" y="386" fill="#666" font-family="monospace" font-size="7">+ Pace (Fast/Mid/Slow)</text>

                        <line x1="220" y1="318" x2="220" y2="400" stroke="#333" stroke-width="1" stroke-dasharray="3,2"/>

                        <text x="234" y="328" fill="#00FF55" font-family="monospace" font-size="9" font-weight="bold">DEFENSIVE</text>
                        <text x="234" y="342" fill="#bbb" font-family="monospace" font-size="8">Switch-Everything</text>
                        <text x="234" y="356" fill="#bbb" font-family="monospace" font-size="8">Drop-Coverage, Rim-Protect</text>
                        <text x="234" y="370" fill="#bbb" font-family="monospace" font-size="8">Trans-Defense, Blitz</text>
                        <text x="234" y="386" fill="#666" font-family="monospace" font-size="7">PPP inversion: low = good D</text>

                        <text x="40" y="410" fill="#555" font-family="monospace" font-size="7">Method: freq/PPP pivot &rarr; percentile-rank across 30 teams &rarr; weighted scheme scoring</text>
                        <text x="40" y="424" fill="#555" font-family="monospace" font-size="7">Quality tiers: Elite / Good / Average / Poor</text>

                        <!-- Player Archetype Clusterer -->
                        <rect x="436" y="290" width="404" height="148" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="436" y="290" width="404" height="22" fill="#00FF55"/><text x="638" y="306" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">PLAYER ARCHETYPE CLUSTERER</text>

                        <text x="456" y="328" fill="#00FF55" font-family="monospace" font-size="9" font-weight="bold">PER-POSITION K-MEANS</text>
                        <text x="456" y="342" fill="#bbb" font-family="monospace" font-size="8">PG: Floor General, Scoring Guard</text>
                        <text x="456" y="356" fill="#bbb" font-family="monospace" font-size="8">SG: Sharpshooter, Two-Way Wing</text>
                        <text x="456" y="370" fill="#bbb" font-family="monospace" font-size="8">C: Rim Protector, Stretch 5</text>
                        <text x="456" y="386" fill="#666" font-family="monospace" font-size="7">5 positions clustered independently</text>

                        <line x1="638" y1="318" x2="638" y2="400" stroke="#333" stroke-width="1" stroke-dasharray="3,2"/>

                        <text x="652" y="328" fill="#00FF55" font-family="monospace" font-size="9" font-weight="bold">METHODOLOGY</text>
                        <text x="652" y="342" fill="#bbb" font-family="monospace" font-size="8">Position-weighted features</text>
                        <text x="652" y="356" fill="#bbb" font-family="monospace" font-size="8">StandardScaler &rarr; PCA (8D)</text>
                        <text x="652" y="370" fill="#bbb" font-family="monospace" font-size="8">K=3-6 via silhouette</text>
                        <text x="652" y="386" fill="#666" font-family="monospace" font-size="7">K=4 bias when &Delta;sil &lt; 0.05</text>

                        <text x="456" y="410" fill="#555" font-family="monospace" font-size="7">Labels: Hungarian algorithm matches centroids to z-score direction vector templates</text>
                        <text x="456" y="424" fill="#555" font-family="monospace" font-size="7">Optimal bipartite matching &rarr; no manual label assignment needed</text>

                        <!-- ── PHASE 3: VALUE SCORES ── -->
                        <line x1="380" y1="438" x2="380" y2="464" stroke="#00FF55" stroke-width="2.5" marker-end="url(#nba-a)"/>
                        <rect x="16" y="472" width="4" height="14" fill="#00FF55"/>
                        <text x="28" y="484" fill="#00FF55" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">PHASE 3: COMPOSITE VALUE SCORES</text>

                        <!-- Main value score container -->
                        <rect x="20" y="498" width="820" height="120" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="20" y="498" width="820" height="22" fill="#00FF55"/><text x="430" y="514" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">COMPOSITE VALUE SCORE ENGINE &mdash; SYNERGY + BASE + ARCHETYPE FIT</text>

                        <!-- 5 synergy weight boxes -->
                        <rect x="32" y="530" width="110" height="74" fill="#111" stroke="#00FF55" stroke-width="2"/>
                        <rect x="32" y="530" width="110" height="18" fill="#00FF55"/><text x="87" y="543" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">SOLO</text>
                        <text x="87" y="562" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Individual impact</text>
                        <text x="87" y="576" fill="#00FF55" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">w = 0.210</text>
                        <text x="87" y="594" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">Prior: 500 min</text>

                        <rect x="152" y="530" width="110" height="74" fill="#111" stroke="#00FF55" stroke-width="2"/>
                        <rect x="152" y="530" width="110" height="18" fill="#00dd44"/><text x="207" y="543" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">2-MAN</text>
                        <text x="207" y="562" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Pair synergy</text>
                        <text x="207" y="576" fill="#00dd44" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">w = 0.196</text>
                        <text x="207" y="594" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">Prior: 30 poss</text>

                        <rect x="272" y="530" width="110" height="74" fill="#111" stroke="#00FF55" stroke-width="2"/>
                        <rect x="272" y="530" width="110" height="18" fill="#00bb44"/><text x="327" y="543" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">3-MAN</text>
                        <text x="327" y="562" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Trio combos</text>
                        <text x="327" y="576" fill="#00bb44" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">w = 0.140</text>
                        <text x="327" y="594" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">Prior: 50 poss</text>

                        <rect x="392" y="530" width="110" height="74" fill="#111" stroke="#00FF55" stroke-width="2"/>
                        <rect x="392" y="530" width="110" height="18" fill="#009933"/><text x="447" y="543" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">4-MAN</text>
                        <text x="447" y="562" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Quad combos</text>
                        <text x="447" y="576" fill="#009933" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">w = 0.091</text>
                        <text x="447" y="594" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">Prior: 75 poss</text>

                        <rect x="512" y="530" width="110" height="74" fill="#111" stroke="#00FF55" stroke-width="2"/>
                        <rect x="512" y="530" width="110" height="18" fill="#007722"/><text x="567" y="543" fill="#fff" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">5-MAN</text>
                        <text x="567" y="562" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Full lineup</text>
                        <text x="567" y="576" fill="#007722" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">w = 0.063</text>
                        <text x="567" y="594" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">Prior: 100 poss</text>

                        <!-- Weight breakdown -->
                        <rect x="636" y="530" width="192" height="74" fill="#0a0a0a" stroke="#444" stroke-width="1.5"/>
                        <text x="732" y="548" fill="#00FF55" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">WEIGHT BREAKDOWN</text>
                        <text x="652" y="564" fill="#aaa" font-family="monospace" font-size="8">Synergy total:  70%</text>
                        <text x="652" y="578" fill="#aaa" font-family="monospace" font-size="8">Base value:     25%</text>
                        <text x="652" y="592" fill="#aaa" font-family="monospace" font-size="8">Archetype fit:   5%</text>
                        <text x="652" y="604" fill="#00FF55" font-family="monospace" font-size="7" filter="url(#nba-glow)">Bayesian shrinkage priors</text>

                        <!-- ── PHASE 4: PREDICT & DISPLAY ── -->
                        <line x1="380" y1="618" x2="380" y2="646" stroke="#00FF55" stroke-width="2.5" marker-end="url(#nba-a)"/>
                        <rect x="16" y="654" width="4" height="14" fill="#00FF55"/>
                        <text x="28" y="666" fill="#00FF55" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">PHASE 4: PREDICT &amp; DISPLAY</text>

                        <!-- Prediction Engine -->
                        <rect x="20" y="680" width="260" height="80" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="20" y="680" width="260" height="22" fill="#00FF55"/><text x="150" y="696" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">PREDICTION ENGINE</text>
                        <text x="150" y="718" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Feature matrix from value scores</text>
                        <text x="150" y="732" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Spread + Total predictions</text>
                        <text x="150" y="746" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">Edge = predicted &minus; market line</text>

                        <line x1="280" y1="720" x2="304" y2="720" stroke="#00FF55" stroke-width="2.5" marker-end="url(#nba-a)"/>

                        <!-- Backtester -->
                        <rect x="310" y="680" width="230" height="80" fill="#0e0e0e" stroke="#00FF55" stroke-width="2"/>
                        <rect x="310" y="680" width="230" height="22" fill="#00FF55"/><text x="425" y="696" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">BACKTESTER</text>
                        <text x="425" y="718" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Train on season N-1</text>
                        <text x="425" y="732" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Test on season N</text>
                        <text x="425" y="746" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">Spread/total correct %</text>

                        <line x1="540" y1="720" x2="564" y2="720" stroke="#00FF55" stroke-width="2.5" marker-end="url(#nba-a)"/>

                        <!-- Frontend -->
                        <rect x="570" y="680" width="270" height="80" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="570" y="680" width="270" height="22" fill="#00FF55"/><text x="705" y="696" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">FRONTEND DASHBOARD</text>
                        <text x="705" y="718" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">generate_frontend.py</text>
                        <text x="705" y="732" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">Single-file HTML &bull; Live odds</text>
                        <text x="705" y="746" fill="#666" font-family="monospace" font-size="8" text-anchor="middle">A/B/C grades &bull; GitHub Pages</text>

                        <!-- Output bar -->
                        <line x1="380" y1="760" x2="380" y2="780" stroke="#00FF55" stroke-width="2" marker-end="url(#nba-a)"/>
                        <rect x="80" y="786" width="600" height="26" fill="#001a0a" stroke="#00FF55" stroke-width="2.5"/>
                        <text x="380" y="804" fill="#00FF55" font-family="monospace" font-size="11" text-anchor="middle" font-weight="bold" filter="url(#nba-glow)">nbasim.html &mdash; GitHub Pages &bull; Static &bull; All data baked in</text>

                        <!-- Tech pill badges -->
                        <rect x="756" y="60" width="80" height="20" fill="#00FF55" rx="0"/><text x="796" y="74" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">Python</text>
                        <rect x="756" y="86" width="80" height="20" fill="#00cc44" rx="0"/><text x="796" y="100" fill="#000" font-family="monospace" font-size="9" text-anchor="middle" font-weight="bold">sklearn</text>
                        <rect x="756" y="112" width="80" height="20" fill="#222" stroke="#666" stroke-width="1" rx="0"/><text x="796" y="126" fill="#ccc" font-family="monospace" font-size="9" text-anchor="middle">nba_api</text>
                        <rect x="756" y="138" width="80" height="20" fill="#222" stroke="#666" stroke-width="1" rx="0"/><text x="796" y="152" fill="#ccc" font-family="monospace" font-size="9" text-anchor="middle">SQLite</text>
                        <rect x="756" y="164" width="80" height="20" fill="#222" stroke="#666" stroke-width="1" rx="0"/><text x="796" y="178" fill="#ccc" font-family="monospace" font-size="9" text-anchor="middle">scipy</text>

                        <!-- Bottom scanline -->
                        <line x1="0" y1="818" x2="860" y2="818" stroke="#00FF55" stroke-width="2" opacity="0.4"/>
                    </svg>
                </div>

                <h4 class="blog-section-header bebas">THE 4-PHASE ARCHITECTURE</h4>
                <p class="blog-body-text">
                    The NBA SIM operates as a <strong>4-phase CLI pipeline</strong> (<code>python main.py [collect|analyze|scores|predict|all]</code>). Each phase builds on the previous, with all data persisted to a 17-table SQLite database.
                </p>

                <div class="pipeline-step">
                    <span class="step-num">P1</span>
                    <span class="step-text"><strong>Collect</strong> &mdash; Six collectors run in sequence: <code>PlayerCollector</code> pulls teams, rosters, and season stats from <code>nba_api</code>. <code>GameCollector</code> fetches game results. <code>LineupCollector</code> pulls 2-through-5-man lineup combinations with net rating and possession counts (with minimum possession thresholds: 30 for 5-man, 50 for 4-man, 75 for 3-man, 100 for 2-man). <code>PlayTypeCollector</code> calls <code>SynergyPlayTypes</code> for all 11 play types in both offensive and defensive groupings. <code>BoxScoreCollector</code> ingests per-game player stats with 27 columns (points, rebounds, assists, plus advanced metrics like usage rate, true shooting, offensive/defensive rating, PIE). <code>OddsCollector</code> pulls live spreads and totals from The Odds API across multiple bookmakers.</span>
                </div>
                <div class="pipeline-step">
                    <span class="step-num">P2</span>
                    <span class="step-text"><strong>Analyze</strong> &mdash; Two parallel analysis engines. The <strong>Coaching Scheme Classifier</strong> builds per-team offensive and defensive profiles by pivoting play type frequencies and PPP values, computing percentile ranks across all 30 teams, then scoring each team against scheme templates (PnR-Heavy, ISO-Heavy, Motion, Run-and-Gun, Spot-Up Heavy, Post-Oriented for offense; Switch-Everything, Drop-Coverage, Rim-Protect, Trans-Defense, Blitz for defense). The <strong>Player Archetype Clusterer</strong> runs K-Means independently for each of the 5 position groups (PG, SG, SF, PF, C) using position-weighted features, StandardScaler normalization, PCA reduction to 8 components, silhouette-optimized K selection (range 3-6 with a K=4 bias when silhouette delta &lt; 0.05), and Hungarian algorithm label assignment that optimally matches cluster centroids to archetype profile templates defined as z-score direction vectors.</span>
                </div>
                <div class="pipeline-step">
                    <span class="step-num">P3</span>
                    <span class="step-text"><strong>Value Scores</strong> &mdash; The <strong>Composite Value Score</strong> for each player is a weighted blend of 6 components. <strong>Solo impact</strong> (21% weight) measures individual on-court effect. <strong>2-man synergy</strong> (19.6%) through <strong>5-man synergy</strong> (6.3%) capture how well a player performs in specific lineup combinations, with Bayesian shrinkage priors that pull small-sample estimates toward league average (prior strengths: 500 minutes for solo, 30-100 possessions for multi-man). <strong>Base value</strong> (25%) covers raw per-36 production. <strong>Archetype fit</strong> (5%) rewards players whose on-court tendencies match their team's coaching scheme. The synergy portion (70% total) is the core innovation.</span>
                </div>
                <div class="pipeline-step">
                    <span class="step-num">P4</span>
                    <span class="step-text"><strong>Predict</strong> &mdash; A <code>FeatureEngineer</code> builds training matrices from the value scores and team-level features. A <code>GamePredictor</code> trains models for spread and total predictions. A <code>ModelEvaluator</code> backtests by training on season N-1 and evaluating on season N, measuring spread/total accuracy. The <code>generate_frontend.py</code> script produces a self-contained HTML dashboard that fetches live odds, computes consensus lines across bookmakers, grades matchup edges (A/B/C), and displays today's games with full scheme and archetype context.</span>
                </div>

                <!-- NBA DATA SCHEMA DIAGRAM -->
                <div class="diagram-label mono" style="margin-top:24px">FIG. 04: NBA SIM &mdash; DATABASE SCHEMA &amp; DATA RELATIONSHIPS</div>
                <div class="system-diagram">
                    <svg viewBox="0 0 860 560" xmlns="http://www.w3.org/2000/svg" style="background:#080808">
                        <defs>
                            <marker id="nba-s" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#00FF55"/></marker>
                            <marker id="nba-d" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><polygon points="0 0, 10 4, 0 8" fill="#00cc44"/></marker>
                            <pattern id="nba-grid2" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="#1a1a1a" stroke-width="0.5"/></pattern>
                            <filter id="nba-glow2"><feGaussianBlur stdDeviation="3" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                        </defs>
                        <rect width="860" height="560" fill="url(#nba-grid2)"/>
                        <!-- Scanlines -->
                        <line x1="0" y1="0" x2="860" y2="0" stroke="#00FF55" stroke-width="3" opacity="0.6"/>
                        <line x1="0" y1="559" x2="860" y2="559" stroke="#00FF55" stroke-width="2" opacity="0.4"/>
                        <!-- Title block -->
                        <rect x="0" y="8" width="860" height="38" fill="#111"/>
                        <text x="20" y="34" fill="#00FF55" font-family="monospace" font-size="14" font-weight="bold" letter-spacing="4">DATABASE SCHEMA &mdash; 17 TABLES</text>
                        <text x="840" y="34" fill="#555" font-family="monospace" font-size="9" text-anchor="end">SQLite &bull; nba_sim.db</text>
                        <line x1="0" y1="50" x2="860" y2="50" stroke="#00FF55" stroke-width="2" opacity="0.3"/>

                        <!-- ── LAYER: REFERENCE TABLES ── -->
                        <rect x="16" y="60" width="4" height="14" fill="#00FF55"/>
                        <text x="28" y="72" fill="#00FF55" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">REFERENCE TABLES</text>

                        <!-- teams -->
                        <rect x="20" y="84" width="150" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="20" y="84" width="150" height="20" fill="#00FF55"/><text x="95" y="98" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">teams</text>
                        <text x="95" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">team_id PK</text>
                        <text x="95" y="132" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">abbreviation, name</text>
                        <text x="95" y="146" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">conference, division</text>

                        <!-- players -->
                        <rect x="184" y="84" width="150" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="184" y="84" width="150" height="20" fill="#00FF55"/><text x="259" y="98" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">players</text>
                        <text x="259" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">player_id PK</text>
                        <text x="259" y="132" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">name, position</text>
                        <text x="259" y="146" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">height, weight, age</text>

                        <!-- roster_assignments -->
                        <rect x="348" y="84" width="185" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="348" y="84" width="185" height="20" fill="#00FF55"/><text x="440" y="98" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">roster_assignments</text>
                        <text x="440" y="118" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">player+team+season PK</text>
                        <text x="440" y="132" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">jersey_number</text>
                        <text x="440" y="146" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">FK &rarr; teams, players</text>

                        <!-- ── LAYER: GAME DATA ── -->
                        <line x1="259" y1="152" x2="259" y2="172" stroke="#00FF55" stroke-width="2" marker-end="url(#nba-s)"/>
                        <rect x="16" y="178" width="4" height="14" fill="#00FF55"/>
                        <text x="28" y="190" fill="#00FF55" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">GAME DATA</text>

                        <!-- games -->
                        <rect x="20" y="202" width="140" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="20" y="202" width="140" height="20" fill="#00FF55"/><text x="90" y="216" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">games</text>
                        <text x="90" y="236" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">game_id PK</text>
                        <text x="90" y="250" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">date, home/away team</text>
                        <text x="90" y="264" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">home/away score</text>

                        <!-- player_game_stats -->
                        <rect x="174" y="202" width="180" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="174" y="202" width="180" height="20" fill="#00FF55"/><text x="264" y="216" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">player_game_stats</text>
                        <text x="264" y="236" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">game+player PK</text>
                        <text x="264" y="250" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">27 cols: pts, ast, reb</text>
                        <text x="264" y="264" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">USG%, TS%, OРТG, PIE</text>

                        <!-- lineup_stats -->
                        <rect x="368" y="202" width="160" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="368" y="202" width="160" height="20" fill="#00FF55"/><text x="448" y="216" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">lineup_stats</text>
                        <text x="448" y="236" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">lineup+season PK</text>
                        <text x="448" y="250" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">2-5 man combos</text>
                        <text x="448" y="264" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">net rtg, possessions</text>

                        <!-- lineup_players -->
                        <rect x="542" y="202" width="155" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2"/>
                        <rect x="542" y="202" width="155" height="20" fill="#00FF55"/><text x="619" y="216" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">lineup_players</text>
                        <text x="619" y="236" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">lineup+season+player</text>
                        <text x="619" y="250" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Junction table</text>
                        <text x="619" y="264" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">FK &rarr; lineup_stats</text>

                        <!-- betting_lines -->
                        <rect x="710" y="202" width="130" height="68" fill="#0e0e0e" stroke="#00cc44" stroke-width="2"/>
                        <rect x="710" y="202" width="130" height="20" fill="#00cc44"/><text x="775" y="216" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">betting_lines</text>
                        <text x="775" y="236" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">game+book+mkt PK</text>
                        <text x="775" y="250" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">price, point</text>
                        <text x="775" y="264" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">retrieved_at timestamp</text>

                        <!-- ── LAYER: PLAY TYPES & SEASON STATS ── -->
                        <line x1="264" y1="270" x2="264" y2="290" stroke="#00FF55" stroke-width="2" marker-end="url(#nba-s)"/>
                        <rect x="16" y="296" width="4" height="14" fill="#00FF55"/>
                        <text x="28" y="308" fill="#00FF55" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">PLAY TYPES &amp; SEASON STATS</text>

                        <!-- team_playtypes -->
                        <rect x="20" y="320" width="160" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="20" y="320" width="160" height="20" fill="#00FF55"/><text x="100" y="334" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">team_playtypes</text>
                        <text x="100" y="354" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">team+season+type PK</text>
                        <text x="100" y="368" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">freq%, PPP, eFG%</text>
                        <text x="100" y="382" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">TO%, score_freq</text>

                        <!-- player_playtypes -->
                        <rect x="194" y="320" width="165" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="194" y="320" width="165" height="20" fill="#00FF55"/><text x="276" y="334" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">player_playtypes</text>
                        <text x="276" y="354" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">player+season+type PK</text>
                        <text x="276" y="368" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">Off/Def grouping</text>
                        <text x="276" y="382" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">freq%, PPP, percentile</text>

                        <!-- player_season_stats -->
                        <rect x="373" y="320" width="175" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="373" y="320" width="175" height="20" fill="#00FF55"/><text x="460" y="334" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">player_season_stats</text>
                        <text x="460" y="354" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">player+season PK</text>
                        <text x="460" y="368" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">30 cols: per-game + per36</text>
                        <text x="460" y="382" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">pts, ast, reb, TS%, USG%</text>

                        <!-- team_season_stats -->
                        <rect x="562" y="320" width="160" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2"/>
                        <rect x="562" y="320" width="160" height="20" fill="#00FF55"/><text x="642" y="334" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">team_season_stats</text>
                        <text x="642" y="354" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">team+season PK</text>
                        <text x="642" y="368" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">pace, off/def rtg</text>
                        <text x="642" y="382" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">FG%, 3P%, FT%, rates</text>

                        <!-- ── LAYER: DERIVED & OUTPUT ── -->
                        <line x1="380" y1="388" x2="380" y2="408" stroke="#00cc44" stroke-width="2" stroke-dasharray="4,3" marker-end="url(#nba-d)"/>
                        <rect x="16" y="414" width="4" height="14" fill="#00cc44"/>
                        <text x="28" y="426" fill="#00cc44" font-family="monospace" font-size="11" font-weight="bold" letter-spacing="2">DERIVED &amp; OUTPUT (ANALYSIS PRODUCTS)</text>

                        <!-- coaching_profiles -->
                        <rect x="20" y="440" width="155" height="68" fill="#0e0e0e" stroke="#00cc44" stroke-width="2.5"/>
                        <rect x="20" y="440" width="155" height="20" fill="#00cc44"/><text x="97" y="454" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">coaching_profiles</text>
                        <text x="97" y="474" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">team+season PK</text>
                        <text x="97" y="488" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">off/def scheme labels</text>
                        <text x="97" y="502" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">pace, top 3 playstyles</text>

                        <!-- player_archetypes -->
                        <rect x="189" y="440" width="155" height="68" fill="#0e0e0e" stroke="#00cc44" stroke-width="2.5"/>
                        <rect x="189" y="440" width="155" height="20" fill="#00cc44"/><text x="266" y="454" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">player_archetypes</text>
                        <text x="266" y="474" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">player+season PK</text>
                        <text x="266" y="488" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">archetype_label</text>
                        <text x="266" y="502" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">confidence, feature vec</text>

                        <!-- player_value_scores -->
                        <rect x="358" y="440" width="175" height="68" fill="#0e0e0e" stroke="#00cc44" stroke-width="2.5"/>
                        <rect x="358" y="440" width="175" height="20" fill="#00cc44"/><text x="445" y="454" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">player_value_scores</text>
                        <text x="445" y="474" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">player+season PK</text>
                        <text x="445" y="488" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">composite_value float</text>
                        <text x="445" y="502" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">solo + 2/3/4/5-man synergy</text>

                        <!-- pair_synergy -->
                        <rect x="547" y="440" width="145" height="68" fill="#0e0e0e" stroke="#00cc44" stroke-width="2"/>
                        <rect x="547" y="440" width="145" height="20" fill="#00cc44"/><text x="619" y="454" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">pair_synergy</text>
                        <text x="619" y="474" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">player_a + player_b</text>
                        <text x="619" y="488" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">net_rating, minutes</text>
                        <text x="619" y="502" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">archetype pair labels</text>

                        <!-- predictions -->
                        <rect x="706" y="440" width="134" height="68" fill="#0e0e0e" stroke="#00FF55" stroke-width="2.5"/>
                        <rect x="706" y="440" width="134" height="20" fill="#00FF55"/><text x="773" y="454" fill="#000" font-family="monospace" font-size="10" text-anchor="middle" font-weight="bold">predictions</text>
                        <text x="773" y="474" fill="#ccc" font-family="monospace" font-size="8" text-anchor="middle">game+season PK</text>
                        <text x="773" y="488" fill="#888" font-family="monospace" font-size="8" text-anchor="middle">spread, total</text>
                        <text x="773" y="502" fill="#666" font-family="monospace" font-size="7" text-anchor="middle">edge, confidence</text>

                        <!-- Relationship arrows: reference → game data -->
                        <line x1="90" y1="152" x2="90" y2="202" stroke="#00FF55" stroke-width="1.5" marker-end="url(#nba-s)"/>
                        <line x1="259" y1="152" x2="264" y2="202" stroke="#00FF55" stroke-width="1.5" marker-end="url(#nba-s)"/>

                        <!-- Dashed: playtypes → derived -->
                        <line x1="100" y1="388" x2="97" y2="440" stroke="#00cc44" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#nba-d)"/>
                        <line x1="276" y1="388" x2="266" y2="440" stroke="#00cc44" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#nba-d)"/>
                        <line x1="460" y1="388" x2="445" y2="440" stroke="#00cc44" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#nba-d)"/>

                        <!-- Bottom flow label -->
                        <rect x="80" y="520" width="700" height="30" fill="#111" stroke="#444" stroke-width="1"/>
                        <text x="430" y="538" fill="#555" font-family="monospace" font-size="8" text-anchor="middle">collect &rarr; analyze &rarr; scores &rarr; predict &bull; Each phase reads/writes the same SQLite DB &bull; Dashed = derived tables (analysis output)</text>

                        <!-- Bottom scanline -->
                        <line x1="0" y1="558" x2="860" y2="558" stroke="#00FF55" stroke-width="2" opacity="0.4"/>
                    </svg>
                </div>

                <h4 class="blog-section-header bebas">KEY DESIGN DECISIONS</h4>
                <p class="blog-body-text">
                    <strong>Percentile-Rank Scheme Classification:</strong> Instead of using raw play type frequencies, we rank each team's values against all 30 teams to compute percentile scores (0-1). This ensures meaningful differentiation regardless of season-level shifts in play style trends. A team running 18% isolation isn't inherently "ISO-Heavy" unless they're in the top percentile of the league.
                </p>
                <p class="blog-body-text">
                    <strong>Position-Weighted Clustering:</strong> Not all stats matter equally for every position. Centers are weighted toward blocks and rebounds; guards toward assists and three-point attempts. The <code>POSITION_FEATURE_WEIGHTS</code> dictionary applies multipliers before StandardScaler normalization, ensuring PCA captures position-relevant variance. The K=4 bias (accepting K=4 over K=3 when silhouette delta &lt; 0.05) prevents oversimplification.
                </p>
                <p class="blog-body-text">
                    <strong>Hungarian Algorithm for Label Assignment:</strong> Each archetype label (e.g., "Floor General", "Rim Protector") is defined as a z-score direction vector. After clustering, we build a cost matrix scoring how well each cluster centroid matches each label template, then use the Hungarian algorithm for optimal bipartite matching. This guarantees the most appropriate label assignment without manual intervention.
                </p>
                <p class="blog-body-text">
                    <strong>Bayesian Shrinkage in Synergy Scores:</strong> Small-sample lineup data is unreliable. A 5-man lineup with 35 possessions and +20 net rating shouldn't dominate a player's value. We apply Bayesian priors that shrink estimates toward league average, with prior strength proportional to data granularity (100 possessions for 5-man, 30 for 2-man). This balances signal extraction with noise reduction.
                </p>

                <div class="blog-tags mono">
                    <span class="tag">METHODOLOGY</span>
                    <span class="tag">NBA</span>
                    <span class="tag">DATA ARCHITECTURE</span>
                    <span class="tag">DEVLOG</span>
                </div>
                </div>
            </details>


            <!-- ═══════════════════════════════════════════════════ -->
            <!-- NBA SIM PICKS TRACKER                             -->
            <!-- ═══════════════════════════════════════════════════ -->
            <details class="blog-card post-nba">
                <summary>
                    <div class="blog-meta mono">
                        <span class="blog-date">FEB 16, 2026</span>
                        <div class="blog-system-dots">
                            <span style="font-size:14px; margin-right:2px;">🏀</span>
                            <div class="blog-system-dot dot-nba-sim" title="NBA SIM"></div>
                        </div>
                    </div>
                    <h3 class="blog-title bebas">NBA SIM TRACKING (1,000 $PP TO 25,000 $PP) PICKS &amp; RATIONALE</h3>
                    <p class="blog-preview">
                        Feb 19 slate — 7 picks sized by model confidence. Starting bankroll: 1,000 $PP. Target: 25,000 $PP. Game lines + player props with full rationale from the NBA SIM pipeline.
                    </p>
                </summary>
                <div class="blog-card-body">
                    <p class="blog-body-text">
                        Post All-Star break opener. 11 games on the Feb 19 slate — the model flagged 3 game lines and 4 player props worth sizing. Unit sizing ($PP) is based on confidence score: A-grade = 5U, B-grade = 3U, D-grade = 1U. Starting bankroll 1,000 $PP with a target of 25,000 $PP.
                    </p>

                    <!-- ── BANKROLL ── -->
                    <div style="margin:14px 0 16px; padding:12px 14px; background:rgba(244,162,97,0.06); border:1px solid #f4a261; border-radius:4px;">
                        <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:16px;">
                            <div>
                                <div class="mono" style="font-size:9px; color:#f4a261; letter-spacing:1.5px; font-weight:700;">BANKROLL</div>
                                <div class="mono" style="font-size:22px; color:#f4a261; margin-top:2px;">1,000 $PP</div>
                            </div>
                            <div style="text-align:center;">
                                <div class="mono" style="font-size:9px; color:#555; letter-spacing:1.5px;">TARGET</div>
                                <div class="mono" style="font-size:22px; color:#2a9d5f; margin-top:2px;">25,000 $PP</div>
                            </div>
                            <div style="text-align:right;">
                                <div class="mono" style="font-size:9px; color:#555; letter-spacing:1.5px;">TOTAL RISKED</div>
                                <div class="mono" style="font-size:22px; color:#e0e0e0; margin-top:2px;">190 $PP</div>
                            </div>
                        </div>
                    </div>

                    <!-- ── UNIT SIZING KEY ── -->
                    <div style="margin:0 0 16px; padding:8px 12px; background:rgba(255,255,255,0.02); border:1px solid #1a1a1a; border-radius:4px;">
                        <p class="mono" style="font-size:9px; color:#888; letter-spacing:1.5px; margin:0;">UNIT KEY: <span style="color:#2a9d5f;">A (90-100) = 50 $PP</span> &nbsp;·&nbsp; <span style="color:#2a9d5f;">B (60-89) = 30 $PP</span> &nbsp;·&nbsp; <span style="color:#888;">D (40-59) = 10 $PP</span></p>
                    </div>

                    <!-- ── GAME LINE PICKS ── -->
                    <p class="mono" style="font-size:10px; color:#2a9d5f; letter-spacing:2px; margin:16px 0 8px; font-weight:700;">▎ GAME LINES — 3 PICKS</p>

                    <div style="margin:8px 0 6px; padding:10px 12px; background:rgba(42,157,95,0.12); border-left:3px solid #2a9d5f; border-radius:0 4px 4px 0;">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
                            <p class="mono" style="font-size:10px; color:#2a9d5f; font-weight:700; letter-spacing:1px; margin:0;">BKN @ CLE — CLE -13.5</p>
                            <div style="display:flex; gap:6px; align-items:center;">
                                <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">50 $PP</span>
                                <span class="mono" style="font-size:9px; background:#2a9d5f; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">100 A</span>
                            </div>
                        </div>
                        <p class="blog-body-text" style="font-size:10px; color:#999; margin:0;">O/U 228.0. Brooklyn (DS #29, 15-38) at Cleveland (DS #3, 34-21). BKN Spot-Up Heavy w/ Drop-Coverage (Poor) vs CLE PnR-Heavy (Fast) w/ Drop-Coverage (Good). DS gap: CLE 372 vs BKN 256. Lineup data: CLE's Merrill/Tyson/Mitchell 3-man core is +29.2 NET RTG over 21 games — elite floor. Their Mobley/Allen/Mitchell 5-man is +25.6 NET RTG. Brooklyn has no trending combos that compete. Max unit.</p>
                    </div>

                    <div style="margin:8px 0 6px; padding:10px 12px; background:rgba(42,157,95,0.08); border-left:3px solid #2a9d5f; border-radius:0 4px 4px 0;">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
                            <p class="mono" style="font-size:10px; color:#2a9d5f; font-weight:700; letter-spacing:1px; margin:0;">PHX @ SAS — SAS -6.5</p>
                            <div style="display:flex; gap:6px; align-items:center;">
                                <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">30 $PP</span>
                                <span class="mono" style="font-size:9px; background:#2a9d5f; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">65 B</span>
                            </div>
                        </div>
                        <p class="blog-body-text" style="font-size:10px; color:#999; margin:0;">O/U 225.5. Phoenix (DS #19, 32-23) at San Antonio (DS #6, 37-16). SAS Trans-Defense (Elite) shuts down PHX's PnR-Heavy sets. Lineup data: Wembanyama's 2-man duos are +29.0 NET RTG over 32 games — the largest sample of any trending combo in the league. PHX has zero lineup combos tracking above +10. Team DS 354 vs 321.</p>
                    </div>

                    <div style="margin:8px 0 6px; padding:10px 12px; background:rgba(255,255,255,0.03); border-left:3px solid #555; border-radius:0 4px 4px 0;">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
                            <p class="mono" style="font-size:10px; color:#ccc; font-weight:700; letter-spacing:1px; margin:0;">ORL @ SAC — ORL -11.0</p>
                            <div style="display:flex; gap:6px; align-items:center;">
                                <span class="mono" style="font-size:9px; background:#555; color:#fff; padding:2px 6px; border-radius:2px; font-weight:700;">10 $PP</span>
                                <span class="mono" style="font-size:9px; background:#555; color:#fff; padding:2px 6px; border-radius:2px; font-weight:700;">46 D</span>
                            </div>
                        </div>
                        <p class="blog-body-text" style="font-size:10px; color:#999; margin:0;">O/U 223.5. Orlando (DS #13, 27-23) vs Sacramento (DS #28, 12-44). SAC's Trans-Defense (Poor) vs ORL's Run-and-Gun. Lineup data: SAC has 3 DISASTERCLASS fade combos — Westbrook/Achiuwa/DeRozan/Murray 5-man is -30.7 NET RTG (8 GP), Achiuwa/DeRozan/Sabonis 3-man is -29.3 (11 GP), Achiuwa/Sabonis 2-man is -24.1 (12 GP). Sacramento bleeds points in every lineup combination that gets minutes. Min unit — large spread has juice risk.</p>
                    </div>

                    <!-- ── PLAYER PROPS ── -->
                    <div style="display:flex; justify-content:space-between; align-items:center; margin:20px 0 8px;">
                        <p class="mono" style="font-size:10px; color:#f4a261; letter-spacing:2px; font-weight:700; margin:0;">▎ PLAYER PROPS — 4 PICKS</p>
                        <div style="display:flex; gap:4px; align-items:center;">
                            <span class="mono" style="font-size:8px; color:#555; letter-spacing:1px; margin-right:4px;">SORT:</span>
                            <button onclick="sortProps('value')" id="sort-value" class="mono" style="font-size:8px; background:#f4a261; color:#000; border:1px solid #f4a261; padding:2px 8px; border-radius:2px; cursor:pointer; font-weight:700; letter-spacing:0.5px;">$PP</button>
                            <button onclick="sortProps('ds')" id="sort-ds" class="mono" style="font-size:8px; background:transparent; color:#666; border:1px solid #333; padding:2px 8px; border-radius:2px; cursor:pointer; font-weight:700; letter-spacing:0.5px;">DS</button>
                        </div>
                    </div>

                    <div id="props-container">
                        <div class="prop-card" data-pp="30" data-ds="99" style="margin:8px 0 6px; padding:10px 12px; background:rgba(244,162,97,0.08); border-left:3px solid #f4a261; border-radius:0 4px 4px 0;">
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
                                <p class="mono" style="font-size:10px; color:#f4a261; font-weight:700; letter-spacing:1px; margin:0;">N. JOKIĆ (DEN vs LAC) — OVER 28.5 PTS</p>
                                <div style="display:flex; gap:6px; align-items:center;">
                                    <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">30 $PP</span>
                                    <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">DS 99</span>
                                </div>
                            </div>
                            <p class="blog-body-text" style="font-size:10px; color:#999; margin:0;">🔮 Versatile Big · Avg 28.7 pts on 70% TS vs LAC's 114 DRTG. Highest DS in the league. LAC runs ISO-Heavy with Drop-Coverage (Avg) — Jokic's post game feasts on drop schemes. Proj: 28.7p / 10.5a / 11.8r. 📈 Trend: consistent production, floor is the line.</p>
                        </div>

                        <div class="prop-card" data-pp="30" data-ds="89" style="margin:8px 0 6px; padding:10px 12px; background:rgba(244,162,97,0.06); border-left:3px solid #f4a261; border-radius:0 4px 4px 0;">
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
                                <p class="mono" style="font-size:10px; color:#f4a261; font-weight:700; letter-spacing:1px; margin:0;">D. MITCHELL (CLE vs BKN) — OVER 27.2 PTS</p>
                                <div style="display:flex; gap:6px; align-items:center;">
                                    <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">30 $PP</span>
                                    <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">DS 89</span>
                                </div>
                            </div>
                            <p class="blog-body-text" style="font-size:10px; color:#999; margin:0;">⚡ Scoring Guard · Avg 29.0 pts on 62% TS vs BKN's 117 DRTG — worst defense in the league. Mitchell's scoring-guard archetype thrives in fast PnR vs poor drop coverage. Lineup data: Mitchell's combos with Merrill/Tyson (+29.2 NET, 21 GP) and with Mobley/Allen (+25.6 NET, 6 GP) are both elite — he's the engine. Stacks with CLE -13.5.</p>
                        </div>

                        <div class="prop-card" data-pp="30" data-ds="84" style="margin:8px 0 6px; padding:10px 12px; background:rgba(244,162,97,0.06); border-left:3px solid #f4a261; border-radius:0 4px 4px 0;">
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
                                <p class="mono" style="font-size:10px; color:#f4a261; font-weight:700; letter-spacing:1px; margin:0;">K. LEONARD (LAC vs DEN) — OVER 28.0 PTS 🔥</p>
                                <div style="display:flex; gap:6px; align-items:center;">
                                    <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">30 $PP</span>
                                    <span class="mono" style="font-size:9px; background:#555; color:#fff; padding:2px 6px; border-radius:2px; font-weight:700;">DS 84</span>
                                </div>
                            </div>
                            <p class="blog-body-text" style="font-size:10px; color:#999; margin:0;">🧠 Point Forward · Avg 27.9 pts on 62% TS vs DEN's 116 DRTG. HEATING UP over last 5 games. Kawhi's ISO archetype works against Denver's Rim-Protect (Avg) — pulls Jokic to the perimeter. Proj: 28.3p / 3.6a / 6.2r. Trend-based sizing.</p>
                        </div>

                        <div class="prop-card" data-pp="10" data-ds="88" style="margin:8px 0 14px; padding:10px 12px; background:rgba(244,162,97,0.04); border-left:3px solid #886; border-radius:0 4px 4px 0;">
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:4px;">
                                <p class="mono" style="font-size:10px; color:#ccc; font-weight:700; letter-spacing:1px; margin:0;">V. WEMBANYAMA (SAS vs PHX) — OVER 11.0 REB 📈</p>
                                <div style="display:flex; gap:6px; align-items:center;">
                                    <span class="mono" style="font-size:9px; background:#555; color:#fff; padding:2px 6px; border-radius:2px; font-weight:700;">10 $PP</span>
                                    <span class="mono" style="font-size:9px; background:#f4a261; color:#000; padding:2px 6px; border-radius:2px; font-weight:700;">DS 88</span>
                                </div>
                            </div>
                            <p class="blog-body-text" style="font-size:10px; color:#999; margin:0;">🏰 Rim Protector · Avg 11.1 reb, 29 mpg. TRENDING UP over last 5. Lineup data: Wemby's 2-man duos are +29.0 NET RTG over 32 games — biggest sample in the league's hot combos. PHX has no true center to contest boards — Williams (DS 59) is undersized. Wemby's rim-protector archetype dominates the glass against small-ball. Stacks with SAS -6.5. Min unit — rebound props are volatile.</p>
                        </div>
                    </div>

                    <script>
                    function sortProps(mode) {
                        var c = document.getElementById('props-container');
                        var cards = Array.from(c.querySelectorAll('.prop-card'));
                        var valBtn = document.getElementById('sort-value');
                        var dsBtn = document.getElementById('sort-ds');
                        if (mode === 'ds') {
                            cards.sort(function(a, b) { return parseInt(b.dataset.ds) - parseInt(a.dataset.ds); });
                            dsBtn.style.background = '#f4a261'; dsBtn.style.color = '#000'; dsBtn.style.borderColor = '#f4a261';
                            valBtn.style.background = 'transparent'; valBtn.style.color = '#666'; valBtn.style.borderColor = '#333';
                        } else {
                            cards.sort(function(a, b) { return parseInt(b.dataset.pp) - parseInt(a.dataset.pp) || parseInt(b.dataset.ds) - parseInt(a.dataset.ds); });
                            valBtn.style.background = '#f4a261'; valBtn.style.color = '#000'; valBtn.style.borderColor = '#f4a261';
                            dsBtn.style.background = 'transparent'; dsBtn.style.color = '#666'; dsBtn.style.borderColor = '#333';
                        }
                        cards.forEach(function(card) { c.appendChild(card); });
                    }
                    </script>

                    <!-- ── PICKS TABLE ── -->
                    <div style="overflow-x:auto; margin:8px 0 16px;">
                        <table style="width:100%; border-collapse:collapse; font-family:var(--font-mono); font-size:10px; letter-spacing:0.5px;">
                            <thead>
                                <tr style="border-bottom:2px solid #333; color:#888; text-transform:uppercase;">
                                    <th style="padding:8px 10px; text-align:left;">Pick</th>
                                    <th style="padding:8px 10px; text-align:left;">Side</th>
                                    <th style="padding:8px 10px; text-align:center;">Conf</th>
                                    <th style="padding:8px 10px; text-align:right;">$PP</th>
                                    <th style="padding:8px 10px; text-align:center;">Result</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom:1px solid #1a1a1a; background:rgba(42,157,95,0.06);">
                                    <td style="padding:6px 10px; color:#e0e0e0;">BKN @ CLE</td>
                                    <td style="padding:6px 10px; color:#2a9d5f;">CLE -13.5</td>
                                    <td style="padding:6px 10px; text-align:center; color:#2a9d5f; font-weight:700;">100 A</td>
                                    <td style="padding:6px 10px; text-align:right; color:#f4a261; font-weight:700;">50</td>
                                    <td style="padding:6px 10px; text-align:center; color:#555;">&mdash;</td>
                                </tr>
                                <tr style="border-bottom:1px solid #1a1a1a; background:rgba(42,157,95,0.04);">
                                    <td style="padding:6px 10px; color:#e0e0e0;">PHX @ SAS</td>
                                    <td style="padding:6px 10px; color:#2a9d5f;">SAS -6.5</td>
                                    <td style="padding:6px 10px; text-align:center; color:#2a9d5f; font-weight:700;">65 B</td>
                                    <td style="padding:6px 10px; text-align:right; color:#f4a261; font-weight:700;">30</td>
                                    <td style="padding:6px 10px; text-align:center; color:#555;">&mdash;</td>
                                </tr>
                                <tr style="border-bottom:1px solid #1a1a1a;">
                                    <td style="padding:6px 10px; color:#e0e0e0;">ORL @ SAC</td>
                                    <td style="padding:6px 10px; color:#ccc;">ORL -11.0</td>
                                    <td style="padding:6px 10px; text-align:center; color:#888;">46 D</td>
                                    <td style="padding:6px 10px; text-align:right; color:#888;">10</td>
                                    <td style="padding:6px 10px; text-align:center; color:#555;">&mdash;</td>
                                </tr>
                                <tr style="border-bottom:1px solid #1a1a1a; background:rgba(244,162,97,0.04);">
                                    <td style="padding:6px 10px; color:#e0e0e0;">Jokić PTS</td>
                                    <td style="padding:6px 10px; color:#f4a261;">OVER 28.5</td>
                                    <td style="padding:6px 10px; text-align:center; color:#f4a261; font-weight:700;">DS 99</td>
                                    <td style="padding:6px 10px; text-align:right; color:#f4a261; font-weight:700;">30</td>
                                    <td style="padding:6px 10px; text-align:center; color:#555;">&mdash;</td>
                                </tr>
                                <tr style="border-bottom:1px solid #1a1a1a; background:rgba(244,162,97,0.03);">
                                    <td style="padding:6px 10px; color:#e0e0e0;">Mitchell PTS</td>
                                    <td style="padding:6px 10px; color:#f4a261;">OVER 27.2</td>
                                    <td style="padding:6px 10px; text-align:center; color:#f4a261; font-weight:700;">DS 89</td>
                                    <td style="padding:6px 10px; text-align:right; color:#f4a261; font-weight:700;">30</td>
                                    <td style="padding:6px 10px; text-align:center; color:#555;">&mdash;</td>
                                </tr>
                                <tr style="border-bottom:1px solid #1a1a1a; background:rgba(244,162,97,0.03);">
                                    <td style="padding:6px 10px; color:#e0e0e0;">Leonard PTS</td>
                                    <td style="padding:6px 10px; color:#f4a261;">OVER 28.0</td>
                                    <td style="padding:6px 10px; text-align:center; color:#888;">DS 84</td>
                                    <td style="padding:6px 10px; text-align:right; color:#f4a261; font-weight:700;">30</td>
                                    <td style="padding:6px 10px; text-align:center; color:#555;">&mdash;</td>
                                </tr>
                                <tr style="border-bottom:1px solid #1a1a1a;">
                                    <td style="padding:6px 10px; color:#e0e0e0;">Wemby REB</td>
                                    <td style="padding:6px 10px; color:#ccc;">OVER 11.0</td>
                                    <td style="padding:6px 10px; text-align:center; color:#f4a261; font-weight:700;">DS 88</td>
                                    <td style="padding:6px 10px; text-align:right; color:#888;">10</td>
                                    <td style="padding:6px 10px; text-align:center; color:#555;">&mdash;</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr style="border-top:2px solid #333;">
                                    <td colspan="3" style="padding:8px 10px; color:#888; font-weight:700;">TOTAL RISKED</td>
                                    <td style="padding:8px 10px; text-align:right; color:#f4a261; font-weight:700;">190 $PP</td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

                    <!-- ── SUMMARY ── -->
                    <div style="display:flex; gap:20px; margin:12px 0; padding:12px; background:rgba(255,255,255,0.02); border:1px solid #1a1a1a; border-radius:4px; flex-wrap:wrap;">
                        <div style="text-align:center;">
                            <div class="mono" style="font-size:9px; color:#555; letter-spacing:1px;">BANKROLL</div>
                            <div class="mono" style="font-size:16px; color:#f4a261; margin-top:2px;">1,000</div>
                        </div>
                        <div style="text-align:center;">
                            <div class="mono" style="font-size:9px; color:#555; letter-spacing:1px;">RISKED</div>
                            <div class="mono" style="font-size:16px; color:#e0e0e0; margin-top:2px;">190</div>
                        </div>
                        <div style="text-align:center;">
                            <div class="mono" style="font-size:9px; color:#555; letter-spacing:1px;">PICKS</div>
                            <div class="mono" style="font-size:16px; color:#e0e0e0; margin-top:2px;">7</div>
                        </div>
                        <div style="text-align:center;">
                            <div class="mono" style="font-size:9px; color:#555; letter-spacing:1px;">RECORD</div>
                            <div class="mono" style="font-size:16px; color:#555; margin-top:2px;">&mdash;</div>
                        </div>
                        <div style="text-align:center;">
                            <div class="mono" style="font-size:9px; color:#555; letter-spacing:1px;">STATUS</div>
                            <div class="mono" style="font-size:16px; color:#f4a261; margin-top:2px;">PENDING</div>
                        </div>
                    </div>

                    <p class="blog-body-text" style="font-size:11px; color:#555; margin-top:8px;">
                        All picks sourced from the NBA SIM pipeline — scheme detection, archetype clustering (K-Means on 16 features), Dynamic Score rankings, and lineup synergy. Lines via The Odds API. Full methodology at <a href="https://jack-more.github.io/nbasim/" style="color:#2a9d5f;">nbasim</a>.
                    </p>

                    <div class="blog-tags mono">
                        <span class="tag">$PP TRACKING</span>
                        <span class="tag">PICKS</span>
                        <span class="tag">PLAYER PROPS</span>
                        <span class="tag">FEB 19</span>
                    </div>
                </div>
            </details>
        </div>
    </div>
    <footer>
        <div class="footer-content">
            <div class="brand-lockup">
                <div class="logo anton" style="color:#FFF; font-size:16px;">MORELLO SIMS</div>
            </div>
            <div class="footer-links mono uppercase">
                <a href="#">Twitter</a>
                <a href="#">About</a>
                <a href="#">Contact</a>
            </div>
            <div class="barcode"></div>
            <div class="mono" style="font-size: 8px; color: #444;">
                &copy; 2026 MORELLO ANALYTICS. ALL RIGHTS RESERVED. <br>
                SYSTEM STATUS: OPERATIONAL
            </div>
        </div>
    </footer>
</body>
</html>
